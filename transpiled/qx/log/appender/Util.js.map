{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/qx-contrib-Dialog/node_modules/qxcompiler/node_modules/qooxdoo-sdk/framework/source/class/qx/log/appender/Util.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "toHtml",
    "entry",
    "output",
    "item",
    "msg",
    "sub",
    "list",
    "push",
    "formatOffset",
    "offset",
    "object",
    "clazz",
    "classname",
    "obj",
    "win",
    "core",
    "ObjectRegistry",
    "fromHashCode",
    "$$hash",
    "items",
    "i",
    "il",
    "length",
    "text",
    "Array",
    "j",
    "jl",
    "escapeHTML",
    "key",
    "type",
    "join",
    "wrapper",
    "document",
    "createElement",
    "innerHTML",
    "className",
    "level",
    "str",
    "toString",
    "diff",
    "pad",
    "value",
    "String",
    "replace",
    "__escapeHTMLReplace",
    "ch",
    "map",
    "toText",
    "toTextArray",
    "trace",
    "FORMAT_STACK",
    "log",
    "Logger",
    "deprecatedConstantWarning",
    "appender",
    "Util"
  ],
  "mappings": "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",
  "file": "Util.js",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Contains some common methods available to all log appenders.\n */\nqx.Bootstrap.define(\"qx.log.appender.Util\",\n{\n  statics :\n  {\n    /**\n     * Converts a single log entry to HTML\n     *\n     * @signature function(entry)\n     * @param entry {Map} The entry to process\n     */\n    toHtml : function(entry)\n    {\n      var output = [];\n      var item, msg, sub, list;\n\n      output.push(\"<span class='offset'>\", this.formatOffset(entry.offset, 6), \"</span> \");\n\n      if (entry.object)\n      {\n        if (entry.clazz) {\n          output.push(\"<span class='object' title='Object instance with hash code: \" + entry.object + \"'>\", entry.clazz.classname, \"[\", entry.object, \"]</span>: \");\n        } else {\n          var obj = entry.win.qx.core.ObjectRegistry.fromHashCode(entry.object, true);\n          if (obj) {\n            output.push(\"<span class='object' title='Object instance with hash code: \" + obj.$$hash + \"'>\", obj.classname, \"[\", obj.$$hash, \"]</span>: \");\n          }\n        }\n      }\n      else if (entry.clazz)\n      {\n        output.push(\"<span class='object'>\" + entry.clazz.classname, \"</span>: \");\n      }\n\n      var items = entry.items;\n      for (var i=0, il=items.length; i<il; i++)\n      {\n        item = items[i];\n        msg = item.text;\n\n        if (msg instanceof Array)\n        {\n          var list = [];\n\n          for (var j=0, jl=msg.length; j<jl; j++)\n          {\n            sub = msg[j];\n            if (typeof sub === \"string\") {\n              list.push(\"<span>\" + this.escapeHTML(sub) + \"</span>\");\n            } else if (sub.key) {\n              list.push(\"<span class='type-key'>\" + sub.key + \"</span>:<span class='type-\" + sub.type + \"'>\" + this.escapeHTML(sub.text) + \"</span>\");\n            } else {\n              list.push(\"<span class='type-\" + sub.type + \"'>\" + this.escapeHTML(sub.text) + \"</span>\");\n            }\n          }\n\n          output.push(\"<span class='type-\" + item.type + \"'>\");\n\n          if (item.type === \"map\") {\n            output.push(\"{\", list.join(\", \"), \"}\");\n          } else {\n            output.push(\"[\", list.join(\", \"), \"]\");\n          }\n\n          output.push(\"</span>\");\n        }\n        else\n        {\n          output.push(\"<span class='type-\" + item.type + \"'>\" + this.escapeHTML(msg) + \"</span> \");\n        }\n      }\n\n      var wrapper = document.createElement(\"DIV\");\n      wrapper.innerHTML = output.join(\"\");\n      wrapper.className = \"level-\" + entry.level;\n\n      return wrapper;\n    },\n\n\n    /**\n     * Formats a numeric time offset to 6 characters.\n     *\n     * @param offset {Integer} Current offset value\n     * @param length {Integer?6} Refine the length\n     * @return {String} Padded string\n     */\n    formatOffset : function(offset, length)\n    {\n      var str = offset.toString();\n      var diff = (length||6) - str.length;\n      var pad = \"\";\n\n      for (var i=0; i<diff; i++) {\n        pad += \"0\";\n      }\n\n      return pad+str;\n    },\n\n\n    /**\n     * Escapes the HTML in the given value\n     *\n     * @param value {String} value to escape\n     * @return {String} escaped value\n     */\n    escapeHTML : function(value) {\n      return String(value).replace(/[<>&\"']/g, this.__escapeHTMLReplace);\n    },\n\n\n    /**\n     * Internal replacement helper for HTML escape.\n     *\n     * @param ch {String} Single item to replace.\n     * @return {String} Replaced item\n     */\n    __escapeHTMLReplace : function(ch)\n    {\n      var map =\n      {\n        \"<\" : \"&lt;\",\n        \">\" : \"&gt;\",\n        \"&\" : \"&amp;\",\n        \"'\" : \"&#39;\",\n        '\"' : \"&quot;\"\n      };\n\n      return map[ch] || \"?\";\n    },\n\n\n    /**\n     * Converts a single log entry to plain text\n     *\n     * @param entry {Map} The entry to process\n     * @return {String} the formatted log entry\n     */\n    toText : function(entry) {\n      return this.toTextArray(entry).join(\" \");\n    },\n\n\n    /**\n     * Converts a single log entry to an array of plain text\n     *\n     * @param entry {Map} The entry to process\n     * @return {Array} Argument list ready message array.\n     */\n    toTextArray : function(entry)\n    {\n      var output = [];\n\n      output.push(this.formatOffset(entry.offset, 6));\n\n      if (entry.object)\n      {\n        if (entry.clazz) {\n          output.push(entry.clazz.classname + \"[\" + entry.object + \"]:\");\n        } else {\n          var obj = entry.win.qx.core.ObjectRegistry.fromHashCode(entry.object, true);\n          if (obj) {\n            output.push(obj.classname + \"[\" + obj.$$hash + \"]:\");\n          }\n        }\n      }\n      else if (entry.clazz) {\n        output.push(entry.clazz.classname + \":\");\n      }\n\n      var items = entry.items;\n      var item, msg;\n      for (var i=0, il=items.length; i<il; i++)\n      {\n        item = items[i];\n        msg = item.text;\n\n        if (item.trace && item.trace.length > 0) {\n          if (typeof(this.FORMAT_STACK) == \"function\") {\n            qx.log.Logger.deprecatedConstantWarning(qx.log.appender.Util,\n              \"FORMAT_STACK\",\n              \"Use qx.dev.StackTrace.FORMAT_STACKTRACE instead\");\n            msg += \"\\n\" + this.FORMAT_STACK(item.trace);\n          } else {\n            msg += \"\\n\" + item.trace;\n          }\n        }\n\n        if (msg instanceof Array)\n        {\n          var list = [];\n          for (var j=0, jl=msg.length; j<jl; j++) {\n            list.push(msg[j].text);\n          }\n\n          if (item.type === \"map\") {\n            output.push(\"{\", list.join(\", \"), \"}\");\n          } else {\n            output.push(\"[\", list.join(\", \"), \"]\");\n          }\n        }\n        else\n        {\n          output.push(msg);\n        }\n      }\n\n      return output;\n    }\n  }\n});\n"
  ]
}
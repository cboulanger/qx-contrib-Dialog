{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/qx-contrib-Dialog/node_modules/qxcompiler/node_modules/qooxdoo-sdk/framework/source/class/qx/bom/Html.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "__fixNonDirectlyClosableHelper",
    "all",
    "front",
    "tag",
    "match",
    "__convertMap",
    "opt",
    "leg",
    "table",
    "tr",
    "td",
    "col",
    "def",
    "core",
    "Environment",
    "select",
    "fixEmptyTags",
    "html",
    "replace",
    "__convertHtmlString",
    "context",
    "div",
    "createElement",
    "bom",
    "Html",
    "tags",
    "substring",
    "toLowerCase",
    "wrap",
    "map",
    "indexOf",
    "innerHTML",
    "depth",
    "lastChild",
    "get",
    "hasBody",
    "test",
    "tbody",
    "firstChild",
    "childNodes",
    "j",
    "length",
    "tagName",
    "parentNode",
    "removeChild",
    "insertBefore",
    "createTextNode",
    "lang",
    "Array",
    "fromCollection",
    "clean",
    "objs",
    "fragment",
    "document",
    "ownerDocument",
    "exec",
    "obj",
    "ret",
    "i",
    "l",
    "nodeType",
    "push",
    "type",
    "BaseArray",
    "qxWeb",
    "apply",
    "prototype",
    "slice",
    "call",
    "toElement",
    "extractScripts",
    "elements",
    "scripts",
    "elem",
    "scriptList",
    "getElementsByTagName",
    "splice",
    "concat",
    "appendChild"
  ],
  "mappings": "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",
  "file": "Html.js",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2009 Sebastian Werner, http://sebastian-werner.net\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n   ======================================================================\n\n   This class contains code based on the following work:\n\n   * jQuery\n     http://jquery.com\n     Version 1.3.1\n\n     Copyright:\n       2009 John Resig\n\n     License:\n       MIT: http://www.opensource.org/licenses/mit-license.php\n\n************************************************************************ */\n\n/**\n * This class is mainly a convenience wrapper for DOM elements to\n * qooxdoo's event system.\n *\n * @ignore(qxWeb)\n */\nqx.Bootstrap.define(\"qx.bom.Html\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * Helper method for XHTML replacement.\n     *\n     * @param all {String} Complete string\n     * @param front {String} Front of the match\n     * @param tag {String} Tag name\n     * @return {String} XHTML corrected tag\n     */\n    __fixNonDirectlyClosableHelper : function(all, front, tag)\n    {\n      return tag.match(/^(abbr|br|col|img|input|link|meta|param|hr|area|embed)$/i) ?\n        all : front + \"></\" + tag + \">\";\n    },\n\n\n    /** @type {Map} Contains wrap fragments for specific HTML matches */\n    __convertMap :\n    {\n      opt : [ 1, \"<select multiple='multiple'>\", \"</select>\" ], // option or optgroup\n      leg : [ 1, \"<fieldset>\", \"</fieldset>\" ],\n      table : [ 1, \"<table>\", \"</table>\" ],\n      tr : [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\n      td : [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\n      col : [ 2, \"<table><tbody></tbody><colgroup>\", \"</colgroup></table>\" ],\n      def : qx.core.Environment.select(\"engine.name\",\n      {\n        \"mshtml\" : [ 1, \"div<div>\", \"</div>\" ],\n        \"default\" : null\n      })\n    },\n\n\n    /**\n     * Fixes \"XHTML\"-style tags in all browsers.\n     * Replaces tags which are not allowed to be closed directly such as\n     * <code>div</code> or <code>p</code>. They are patched to use opening and\n     * closing tags instead, e.g. <code>&lt;p&gt;</code> => <code>&lt;p&gt;&lt;/p&gt;</code>\n     *\n     * @param html {String} HTML to fix\n     * @return {String} Fixed HTML\n     */\n    fixEmptyTags : function(html)\n    {\n      return html.replace(/(<(\\w+)[^>]*?)\\/>/g, this.__fixNonDirectlyClosableHelper);\n    },\n\n\n    /**\n     * Translates a HTML string into an array of elements.\n     *\n     * @param html {String} HTML string\n     * @param context {Document} Context document in which (helper) elements should be created\n     * @return {Array} List of resulting elements\n     */\n    __convertHtmlString : function(html, context)\n    {\n      var div = context.createElement(\"div\");\n\n      html = qx.bom.Html.fixEmptyTags(html);\n\n      // Trim whitespace, otherwise indexOf won't work as expected\n      var tags = html.replace(/^\\s+/, \"\").substring(0, 5).toLowerCase();\n\n      // Auto-wrap content into required DOM structure\n      var wrap, map = this.__convertMap;\n      if (!tags.indexOf(\"<opt\")) {\n        wrap = map.opt;\n      } else if (!tags.indexOf(\"<leg\")) {\n        wrap = map.leg;\n      } else if (tags.match(/^<(thead|tbody|tfoot|colg|cap)/)) {\n        wrap = map.table;\n      } else if (!tags.indexOf(\"<tr\")) {\n        wrap = map.tr;\n      } else if (!tags.indexOf(\"<td\") || !tags.indexOf(\"<th\")) {\n        wrap = map.td;\n      } else if (!tags.indexOf(\"<col\")) {\n        wrap = map.col;\n      } else {\n        wrap = map.def;\n      }\n\n      // Omit string concat when no wrapping is needed\n      if (wrap)\n      {\n        // Go to html and back, then peel off extra wrappers\n        div.innerHTML = wrap[1] + html + wrap[2];\n\n        // Move to the right depth\n        var depth = wrap[0];\n        while (depth--) {\n          div = div.lastChild;\n        }\n      }\n      else\n      {\n        div.innerHTML = html;\n      }\n\n      // Fix IE specific bugs\n      if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\"))\n      {\n        // Remove IE's autoinserted <tbody> from table fragments\n        // String was a <table>, *may* have spurious <tbody>\n        var hasBody = /<tbody/i.test(html);\n\n        // String was a bare <thead> or <tfoot>\n        var tbody = !tags.indexOf(\"<table\") && !hasBody ?\n          div.firstChild && div.firstChild.childNodes :\n          wrap[1] == \"<table>\" && !hasBody ? div.childNodes :\n          [];\n\n        for (var j=tbody.length-1; j>=0 ; --j)\n        {\n          if (tbody[j].tagName.toLowerCase() === \"tbody\" && !tbody[j].childNodes.length) {\n            tbody[j].parentNode.removeChild(tbody[j]);\n          }\n        }\n\n        // IE completely kills leading whitespace when innerHTML is used\n        if (/^\\s/.test(html)) {\n          div.insertBefore(context.createTextNode(html.match(/^\\s*/)[0]), div.firstChild);\n        }\n      }\n\n      return qx.lang.Array.fromCollection(div.childNodes);\n    },\n\n\n    /**\n     * Cleans-up the given HTML and append it to a fragment\n     *\n     * When no <code>context</code> is given the global document is used to\n     * create new DOM elements.\n     *\n     * When a <code>fragment</code> is given the nodes are appended to this\n     * fragment except the script tags. These are returned in a separate Array.\n     *\n     * Please note: HTML coming from user input must be validated prior\n     * to passing it to this method. HTML is temporarily inserted to the DOM\n     * using <code>innerHTML</code>. As a consequence, scripts included in\n     * attribute event handlers may be executed.\n     *\n     * @param objs {Element[]|String[]} Array of DOM elements or HTML strings\n     * @param context {Document?document} Context in which the elements should be created\n     * @param fragment {Element?null} Document fragment to appends elements to\n     * @return {Element[]} Array of elements (when a fragment is given it only contains script elements)\n     */\n    clean: function(objs, context, fragment)\n    {\n      context = context || document;\n\n      // !context.createElement fails in IE with an error but returns typeof 'object'\n      if (typeof context.createElement === \"undefined\") {\n        context = context.ownerDocument || context[0] && context[0].ownerDocument || document;\n      }\n\n      // Fast-Path:\n      // If a single string is passed in and it's a single tag\n      // just do a createElement and skip the rest\n      if (!fragment && objs.length === 1 && typeof objs[0] === \"string\")\n      {\n        var match = /^<(\\w+)\\s*\\/?>$/.exec(objs[0]);\n        if (match) {\n          return [context.createElement(match[1])];\n        }\n      }\n\n      // Iterate through items in incoming array\n      var obj, ret=[];\n      for (var i=0, l=objs.length; i<l; i++)\n      {\n        obj = objs[i];\n\n        // Convert HTML string into DOM nodes\n        if (typeof obj === \"string\") {\n          obj = this.__convertHtmlString(obj, context);\n        }\n\n        // Append or merge depending on type\n        if (obj.nodeType) {\n          ret.push(obj);\n        } else if (obj instanceof qx.type.BaseArray ||\n            (typeof qxWeb !== \"undefined\" && obj instanceof qxWeb)) {\n          ret.push.apply(ret, Array.prototype.slice.call(obj, 0));\n        } else if (obj.toElement) {\n          ret.push(obj.toElement());\n        } else {\n          ret.push.apply(ret, obj);\n        }\n      }\n\n      // Append to fragment and filter out scripts... or...\n      if (fragment)\n      {\n        return qx.bom.Html.extractScripts(ret, fragment);\n      }\n\n      // Otherwise return the array of all elements\n      return ret;\n    },\n\n\n    /**\n     * Extracts script elements from an element list. Optionally\n     * attaches them to a given document fragment\n     *\n     * @param elements {Element[]} list of elements\n     * @param fragment {Document?} document fragment\n     * @return {Element[]} Array containing the script elements\n     */\n    extractScripts : function(elements, fragment) {\n      var scripts=[], elem;\n      for (var i=0; elements[i]; i++) {\n        elem = elements[i];\n\n        if (elem.nodeType == 1 && elem.tagName.toLowerCase() === \"script\" && (!elem.type || elem.type.toLowerCase() === \"text/javascript\"))\n        {\n          // Trying to remove the element from DOM\n          if (elem.parentNode) {\n            elem.parentNode.removeChild(elements[i]);\n          }\n\n          // Store in script list\n          scripts.push(elem);\n        }\n        else\n        {\n          if (elem.nodeType === 1)\n          {\n            // Recursively search for scripts and append them to the list of elements to process\n            var scriptList = qx.lang.Array.fromCollection(elem.getElementsByTagName(\"script\"));\n            elements.splice.apply(elements, [i+1, 0].concat(scriptList));\n          }\n\n          // Finally append element to fragment\n          if (fragment) {\n            fragment.appendChild(elem);\n          }\n        }\n      }\n\n      return scripts;\n    }\n  }\n});\n"
  ]
}
{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/qx-contrib-Dialog/node_modules/qxcompiler/node_modules/qooxdoo-sdk/framework/source/class/qx/bom/webfonts/WebFont.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "bom",
    "Font",
    "events",
    "properties",
    "sources",
    "nullable",
    "apply",
    "members",
    "__families",
    "_applySources",
    "value",
    "old",
    "families",
    "i",
    "l",
    "length",
    "familyName",
    "_quoteFontFamily",
    "family",
    "push",
    "sourcesList",
    "comparisonString",
    "getComparisonString",
    "version",
    "getVersion",
    "webfonts",
    "Manager",
    "getInstance",
    "require",
    "_onWebFontChangeStatus",
    "setFamily",
    "concat",
    "getFamily",
    "ev",
    "result",
    "getData",
    "fireDataEvent",
    "valid",
    "warn",
    "replace",
    "WebFont"
  ],
  "mappings": ";;;;;;;;;;;;;AAAAA,KAAGC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC,EAmBAH,GAAGI,KAAH,CAASC,MAAT,CAAgB,yBAAhB,EAA2C;;AAEzCC,YAASN,GAAGO,GAAH,CAAOC,IAFyB;;AAKzC;;;;;;AAMAC,YACA;AACE;;;;;AAKA,sBAAiB;AANnB,KAZyC;;AAsBzC;;;;;;AAMAC,gBACA;AACE;;;AAGAC,eACA;AACEC,kBAAW,IADb;AAEEC,eAAQ;AAFV;AALF,KA7ByC;;AAyCzC;;;;;;AAMAC,aACA;AACEC,kBAAa,IADf;;AAGE;AACAC,qBAAgB,uBAASC,KAAT,EAAgBC,GAAhB,EAAqB;AACnC,YAAIC,WAAW,EAAf;;AAEA,aAAK,IAAIC,IAAE,CAAN,EAASC,IAAEJ,MAAMK,MAAtB,EAA8BF,IAAEC,CAAhC,EAAmCD,GAAnC,EAAwC;AACtC,cAAIG,aAAa,KAAKC,gBAAL,CAAsBP,MAAMG,CAAN,EAASK,MAA/B,CAAjB;AACAN,mBAASO,IAAT,CAAcH,UAAd;AACA,cAAII,cAAcV,MAAMG,CAAN,CAAlB;AACAO,sBAAYC,gBAAZ,GAA+B,KAAKC,mBAAL,EAA/B;AACAF,sBAAYG,OAAZ,GAAsB,KAAKC,UAAL,EAAtB;AACA/B,aAAGO,GAAH,CAAOyB,QAAP,CAAgBC,OAAhB,CAAwBC,WAAxB,GAAsCC,OAAtC,CAA8CZ,UAA9C,EAA0DI,WAA1D,EAAuE,KAAKS,sBAA5E,EAAoG,IAApG;AACD;;AAED,aAAKC,SAAL,CAAelB,SAASmB,MAAT,CAAgB,KAAKC,SAAL,EAAhB,CAAf;AACD,OAjBH;;AAoBE;;;;;AAKAH,8BAAyB,gCAASI,EAAT,EACzB;AACE,YAAIC,SAASD,GAAGE,OAAH,EAAb;AACA,aAAKC,aAAL,CAAmB,cAAnB,EAAmCF,MAAnC;AACyC;AACvC,cAAIA,OAAOG,KAAP,KAAiB,KAArB,EAA4B;AAC1B,iBAAKC,IAAL,CAAU,aAAaJ,OAAOhB,MAApB,GAA6B,gEAAvC;AACD;AACF;AACF,OAlCH;;AAqCE;;;;;;AAMAD,wBAAmB,0BAASD,UAAT,EACnB;AACE,eAAOA,WAAWuB,OAAX,CAAmB,OAAnB,EAA4B,EAA5B,CAAP;AACD;;AA9CH;AAhDyC,GAA3C,C;AAnBA9C,KAAGO,GAAH,CAAOyB,QAAP,CAAgBe,OAAhB,CAAwB5C,aAAxB,GAAwCA,aAAxC",
  "file": "WebFont.js",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n************************************************************************ */\n\n/**\n * Requests web fonts from {@link qx.bom.webfonts.Manager} and fires events\n * when their loading status is known.\n */\nqx.Class.define(\"qx.bom.webfonts.WebFont\", {\n\n  extend : qx.bom.Font,\n\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events :\n  {\n    /**\n     * Fired when the status of a web font has been determined. The event data\n     * is a map with the keys \"family\" (the font-family name) and \"valid\"\n     * (Boolean).\n     */\n    \"changeStatus\" : \"qx.event.type.Data\"\n  },\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /**\n     * The source of the webfont.\n     */\n    sources :\n    {\n      nullable : true,\n      apply : \"_applySources\"\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __families : null,\n\n    // property apply\n    _applySources : function(value, old) {\n      var families = [];\n\n      for (var i=0, l=value.length; i<l; i++) {\n        var familyName = this._quoteFontFamily(value[i].family);\n        families.push(familyName);\n        var sourcesList = value[i];\n        sourcesList.comparisonString = this.getComparisonString();\n        sourcesList.version = this.getVersion();\n        qx.bom.webfonts.Manager.getInstance().require(familyName, sourcesList, this._onWebFontChangeStatus, this);\n      }\n\n      this.setFamily(families.concat(this.getFamily()));\n    },\n\n\n    /**\n     * Propagates web font status changes\n     *\n     * @param ev {qx.event.type.Data} \"changeStatus\"\n     */\n    _onWebFontChangeStatus : function(ev)\n    {\n      var result = ev.getData();\n      this.fireDataEvent(\"changeStatus\", result);\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        if (result.valid === false) {\n          this.warn(\"WebFont \" + result.family + \" was not applied, perhaps the source file could not be loaded.\");\n        }\n      }\n    },\n\n\n    /**\n     * Makes sure font-family names containing spaces are properly quoted\n     *\n     * @param familyName {String} A font-family CSS value\n     * @return {String} The quoted family name\n     */\n    _quoteFontFamily : function(familyName)\n    {\n      return familyName.replace(/[\"']/g, \"\");\n    }\n\n  }\n});\n"
  ]
}
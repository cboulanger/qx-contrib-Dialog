{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/qx-contrib-Dialog/node_modules/qxcompiler/node_modules/qooxdoo-sdk/framework/source/class/qx/bom/client/Plugin.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "getGears",
    "window",
    "google",
    "gears",
    "getActiveX",
    "ActiveXObject",
    "undefined",
    "ex",
    "getSkype",
    "bom",
    "client",
    "Plugin",
    "e",
    "mimeTypes",
    "navigator",
    "i",
    "length",
    "desc",
    "type",
    "indexOf",
    "__db",
    "quicktime",
    "plugin",
    "control",
    "wmv",
    "divx",
    "silverlight",
    "pdf",
    "getQuicktimeVersion",
    "entry",
    "__getVersion",
    "getWindowsMediaVersion",
    "getDivXVersion",
    "getSilverlightVersion",
    "getPdfVersion",
    "getQuicktime",
    "__isAvailable",
    "getWindowsMedia",
    "getDivX",
    "getSilverlight",
    "getPdf",
    "activeXName",
    "pluginNames",
    "forceActiveX",
    "available",
    "Engine",
    "getName",
    "Browser",
    "getDocumentMode",
    "obj",
    "version",
    "GetVersions",
    "split",
    "versionInfo",
    "settings",
    "plugins",
    "verreg",
    "j",
    "name",
    "test",
    "description",
    "RegExp",
    "$1",
    "defer",
    "core",
    "Environment",
    "add"
  ],
  "mappings": "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",
  "file": "Plugin.js",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n/**\n * Contains detection for QuickTime, Windows Media, DivX, Silverlight and gears.\n * If no version could be detected the version is set to an empty string as\n * default.\n *\n * This class is used by {@link qx.core.Environment} and should not be used\n * directly. Please check its class comment for details how to use it.\n *\n * @internal\n */\nqx.Bootstrap.define(\"qx.bom.client.Plugin\",\n{\n  statics :\n  {\n    /**\n     * Checks for the availability of google gears plugin.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if gears is available\n     */\n    getGears : function() {\n      return !!(window.google && window.google.gears);\n    },\n\n\n    /**\n     * Checks for ActiveX availability.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if ActiveX is available\n     */\n    getActiveX : function()\n    {\n      if (typeof window.ActiveXObject === \"function\") {\n        return true;\n      }\n      try {\n        // in IE11 Preview, ActiveXObject is undefined but instances can\n        // still be created\n        return window.ActiveXObject !== undefined && \n          (typeof (new window.ActiveXObject(\"Microsoft.XMLHTTP\")) === \"object\" ||\n           typeof (new window.ActiveXObject(\"MSXML2.DOMDocument.6.0\")) === \"object\"\n          );\n      } catch(ex) {\n        return false;\n      }\n    },\n\n    /**\n     * Checks for Skypes 'Click to call' availability.\n     *\n     * @internal\n     * @return {Boolean} <code>true</code> if the plugin is available.\n     */\n    getSkype : function()\n    {\n      // IE Support\n      if (qx.bom.client.Plugin.getActiveX()) {\n       try {\n         new ActiveXObject(\"Skype.Detection\");\n         return true;\n       } catch (e) {}\n      }\n\n      var mimeTypes = navigator.mimeTypes;\n      if (mimeTypes) {\n        // FF support\n        if (\"application/x-skype\" in mimeTypes) {\n          return true;\n        }\n        // webkit support\n        for (var i=0; i < mimeTypes.length; i++) {\n          var desc = mimeTypes[i];\n          if (desc.type.indexOf(\"skype.click2call\") != -1) {\n            return true;\n          }\n        };\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Database of supported features.\n     * Filled with additional data at initialization\n     */\n    __db :\n    {\n      quicktime :\n      {\n        plugin : [ \"QuickTime\" ],\n        control : \"QuickTimeCheckObject.QuickTimeCheck.1\"\n        // call returns boolean: instance.IsQuickTimeAvailable(0)\n      },\n\n      wmv :\n      {\n        plugin : [ \"Windows Media\" ],\n        control : \"WMPlayer.OCX.7\"\n        // version string in: instance.versionInfo\n      },\n\n      divx :\n      {\n        plugin : [ \"DivX Web Player\" ],\n        control : \"npdivx.DivXBrowserPlugin.1\"\n      },\n\n      silverlight :\n      {\n        plugin : [ \"Silverlight\" ],\n        control : \"AgControl.AgControl\"\n        // version string in: instance.version (Silverlight 1.0)\n        // version string in: instance.settings.version (Silverlight 1.1)\n        // version check possible using instance.IsVersionSupported\n      },\n\n      pdf :\n      {\n        plugin : [ \"Chrome PDF Viewer\", \"Adobe Acrobat\" ],\n        control : \"AcroPDF.PDF\"\n        // this is detecting Acrobat PDF version > 7 and Chrome PDF Viewer\n      }\n    },\n\n\n    /**\n     * Fetches the version of the quicktime plugin.\n     * @return {String} The version of the plugin, if available,\n     *   an empty string otherwise\n     * @internal\n     */\n    getQuicktimeVersion : function() {\n      var entry = qx.bom.client.Plugin.__db[\"quicktime\"];\n      return qx.bom.client.Plugin.__getVersion(entry.control, entry.plugin);\n    },\n\n\n    /**\n     * Fetches the version of the windows media plugin.\n     * @return {String} The version of the plugin, if available,\n     *   an empty string otherwise\n     * @internal\n     */\n    getWindowsMediaVersion : function() {\n      var entry = qx.bom.client.Plugin.__db[\"wmv\"];\n      return qx.bom.client.Plugin.__getVersion(entry.control, entry.plugin, true);\n    },\n\n\n    /**\n     * Fetches the version of the divx plugin.\n     * @return {String} The version of the plugin, if available,\n     *   an empty string otherwise\n     * @internal\n     */\n    getDivXVersion : function() {\n      var entry = qx.bom.client.Plugin.__db[\"divx\"];\n      return qx.bom.client.Plugin.__getVersion(entry.control, entry.plugin);\n    },\n\n\n    /**\n     * Fetches the version of the silverlight plugin.\n     * @return {String} The version of the plugin, if available,\n     *   an empty string otherwise\n     * @internal\n     */\n    getSilverlightVersion : function() {\n      var entry = qx.bom.client.Plugin.__db[\"silverlight\"];\n      return qx.bom.client.Plugin.__getVersion(entry.control, entry.plugin);\n    },\n\n\n    /**\n     * Fetches the version of the pdf plugin.\n     *\n     * There are two built-in PDF viewer shipped with browsers:\n     *\n     * <ul>\n     *  <li>Chrome PDF Viewer</li>\n     *  <li>PDF.js (Firefox)</li>\n     * </ul>\n     *\n     * While the Chrome PDF Viewer is implemented as plugin and therefore\n     * detected by this method PDF.js is <strong>not</strong>.\n     *\n     * See the dedicated environment key (<em>plugin.pdfjs</em>) instead,\n     * which you might check additionally.\n     *\n     * @return {String} The version of the plugin, if available,\n     *  an empty string otherwise\n     * @internal\n     */\n    getPdfVersion : function() {\n      var entry = qx.bom.client.Plugin.__db[\"pdf\"];\n      return qx.bom.client.Plugin.__getVersion(entry.control, entry.plugin);\n    },\n\n\n    /**\n     * Checks if the quicktime plugin is available.\n     * @return {Boolean} <code>true</code> if the plugin is available\n     * @internal\n     */\n    getQuicktime : function() {\n      var entry = qx.bom.client.Plugin.__db[\"quicktime\"];\n      return qx.bom.client.Plugin.__isAvailable(entry.control, entry.plugin);\n    },\n\n\n    /**\n     * Checks if the windows media plugin is available.\n     * @return {Boolean} <code>true</code> if the plugin is available\n     * @internal\n     */\n    getWindowsMedia : function() {\n      var entry = qx.bom.client.Plugin.__db[\"wmv\"];\n      return qx.bom.client.Plugin.__isAvailable(entry.control, entry.plugin, true);\n    },\n\n\n    /**\n     * Checks if the divx plugin is available.\n     * @return {Boolean} <code>true</code> if the plugin is available\n     * @internal\n     */\n    getDivX : function() {\n      var entry = qx.bom.client.Plugin.__db[\"divx\"];\n      return qx.bom.client.Plugin.__isAvailable(entry.control, entry.plugin);\n    },\n\n\n    /**\n     * Checks if the silverlight plugin is available.\n     * @return {Boolean} <code>true</code> if the plugin is available\n     * @internal\n     */\n    getSilverlight : function() {\n      var entry = qx.bom.client.Plugin.__db[\"silverlight\"];\n      return qx.bom.client.Plugin.__isAvailable(entry.control, entry.plugin);\n    },\n\n\n    /**\n     * Checks if the pdf plugin is available.\n     *\n     * There are two built-in PDF viewer shipped with browsers:\n     *\n     * <ul>\n     *  <li>Chrome PDF Viewer</li>\n     *  <li>PDF.js (Firefox)</li>\n     * </ul>\n     *\n     * While the Chrome PDF Viewer is implemented as plugin and therefore\n     * detected by this method PDF.js is <strong>not</strong>.\n     *\n     * See the dedicated environment key (<em>plugin.pdfjs</em>) instead,\n     * which you might check additionally.\n     *\n     * @return {Boolean} <code>true</code> if the plugin is available\n     * @internal\n     */\n    getPdf : function() {\n      var entry = qx.bom.client.Plugin.__db[\"pdf\"];\n      return qx.bom.client.Plugin.__isAvailable(entry.control, entry.plugin);\n    },\n\n\n    /**\n     * Internal helper for getting the version of a given plugin.\n     *\n     * @param activeXName {String} The name which should be used to generate\n     *   the test ActiveX Object.\n     * @param pluginNames {Array} The names with which the plugins are listed in\n     *   the navigator.plugins list.\n     * @param forceActiveX {Boolean?false} Force detection using ActiveX\n     *   for IE11 plugins that aren't listed in navigator.plugins\n     * @return {String} The version of the plugin as string.\n     */\n    __getVersion : function(activeXName, pluginNames, forceActiveX) {\n      var available = qx.bom.client.Plugin.__isAvailable(\n        activeXName, pluginNames, forceActiveX\n      );\n      // don't check if the plugin is not available\n      if (!available) {\n        return \"\";\n      }\n\n      // IE checks\n      if (qx.bom.client.Engine.getName() == \"mshtml\" &&\n        (qx.bom.client.Browser.getDocumentMode() < 11 || forceActiveX))\n      {\n        try {\n          var obj = new ActiveXObject(activeXName);\n          var version;\n\n          // pdf version detection\n          if (obj.GetVersions && obj.GetVersions()) {\n            version = obj.GetVersions().split(',');\n            if (version.length > 1) {\n              version = version[0].split('=');\n              if (version.length === 2) {\n                return version[1];\n              }\n            }\n          }\n\n          version = obj.versionInfo;\n          if (version != undefined) {\n            return version;\n          }\n\n          version = obj.version;\n          if (version != undefined) {\n            return version;\n          }\n\n          version = obj.settings.version;\n          if (version != undefined) {\n            return version;\n          }\n        } catch (ex) {\n          return \"\";\n        }\n\n        return \"\";\n\n      // all other browsers\n      } else {\n        var plugins = navigator.plugins;\n\n        var verreg = /([0-9]\\.[0-9])/g;\n        for (var i = 0; i < plugins.length; i++)\n        {\n          var plugin = plugins[i];\n\n          for (var j = 0; j < pluginNames.length; j++)\n          {\n            if (plugin.name.indexOf(pluginNames[j]) !== -1)\n            {\n              if (verreg.test(plugin.name) || verreg.test(plugin.description)) {\n                return RegExp.$1;\n              }\n            }\n          }\n        }\n\n        return \"\";\n      }\n    },\n\n\n    /**\n     * Internal helper for getting the availability of a given plugin.\n     *\n     * @param activeXName {String} The name which should be used to generate\n     *   the test ActiveX Object.\n     * @param pluginNames {Array} The names with which the plugins are listed in\n     *   the navigator.plugins list.\n     * @param forceActiveX {Boolean?false} Force detection using ActiveX\n     *   for IE11 plugins that aren't listed in navigator.plugins\n     * @return {Boolean} <code>true</code>, if the plugin available\n     */\n    __isAvailable : function(activeXName, pluginNames, forceActiveX) {\n      // IE checks\n      if (qx.bom.client.Engine.getName() == \"mshtml\" &&\n        (qx.bom.client.Browser.getDocumentMode() < 11 || forceActiveX))\n      {\n\n        if (!this.getActiveX()) {\n          return false;\n        }\n\n        try {\n          new ActiveXObject(activeXName);\n        } catch(ex) {\n          return false;\n        }\n\n        return true;\n      // all other\n      } else {\n\n        var plugins = navigator.plugins;\n        if (!plugins) {\n          return false;\n        }\n\n        var name;\n        for (var i = 0; i < plugins.length; i++)\n        {\n          name = plugins[i].name;\n\n          for (var j = 0; j < pluginNames.length; j++)\n          {\n            if (name.indexOf(pluginNames[j]) !== -1) {\n              return true;\n            }\n          }\n        }\n\n        return false;\n      }\n    }\n  },\n\n  defer : function(statics) {\n    qx.core.Environment.add(\"plugin.gears\", statics.getGears);\n    qx.core.Environment.add(\"plugin.quicktime\", statics.getQuicktime);\n    qx.core.Environment.add(\"plugin.quicktime.version\", statics.getQuicktimeVersion);\n    qx.core.Environment.add(\"plugin.windowsmedia\", statics.getWindowsMedia);\n    qx.core.Environment.add(\"plugin.windowsmedia.version\", statics.getWindowsMediaVersion);\n    qx.core.Environment.add(\"plugin.divx\", statics.getDivX);\n    qx.core.Environment.add(\"plugin.divx.version\", statics.getDivXVersion);\n    qx.core.Environment.add(\"plugin.silverlight\", statics.getSilverlight);\n    qx.core.Environment.add(\"plugin.silverlight.version\", statics.getSilverlightVersion);\n    qx.core.Environment.add(\"plugin.pdf\", statics.getPdf);\n    qx.core.Environment.add(\"plugin.pdf.version\", statics.getPdfVersion);\n    qx.core.Environment.add(\"plugin.activex\", statics.getActiveX);\n    qx.core.Environment.add(\"plugin.skype\", statics.getSkype);\n  }\n});\n"
  ]
}
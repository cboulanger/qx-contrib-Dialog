{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/qx-contrib-Dialog/node_modules/qxcompiler/node_modules/qooxdoo-sdk/framework/source/class/qx/ui/table/pane/Header.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "Widget",
    "construct",
    "paneScroller",
    "_setLayout",
    "layout",
    "HBox",
    "__blocker",
    "Blocker",
    "__paneScroller",
    "members",
    "__moveFeedback",
    "__lastPointerOverColumn",
    "getPaneScroller",
    "getTable",
    "getBlocker",
    "onColOrderChanged",
    "_updateContent",
    "onPaneModelChanged",
    "onTableModelMetaDataChanged",
    "setColumnWidth",
    "col",
    "width",
    "isPointerAction",
    "child",
    "getHeaderWidgetAtColumn",
    "setWidth",
    "setPointerOverColumn",
    "widget",
    "removeState",
    "addState",
    "xPos",
    "getTablePaneModel",
    "getX",
    "_getChildren",
    "showColumnMoveFeedback",
    "x",
    "pos",
    "getContentLocation",
    "table",
    "cellWidget",
    "tableModel",
    "getTableModel",
    "columnModel",
    "getTableColumnModel",
    "cellInfo",
    "name",
    "getColumnName",
    "cellRenderer",
    "getHeaderCellRenderer",
    "feedback",
    "createHeaderCell",
    "size",
    "getBounds",
    "setHeight",
    "height",
    "setZIndex",
    "setOpacity",
    "setLayoutProperties",
    "top",
    "getApplicationRoot",
    "add",
    "left",
    "show",
    "hideColumnMoveFeedback",
    "destroy",
    "isShowingColumnMoveFeedback",
    "completeUpdate",
    "paneModel",
    "children",
    "colCount",
    "getColumnCount",
    "sortedColumn",
    "getSortColumnIndex",
    "_cleanUpCells",
    "sortedAscending",
    "isSortAscending",
    "getColumnAtX",
    "undefined",
    "colWidth",
    "getColumnWidth",
    "editable",
    "isColumnEditable",
    "sorted",
    "cachedWidget",
    "set",
    "_add",
    "updateHeaderCell",
    "length",
    "destruct",
    "dispose",
    "_disposeObjects",
    "pane",
    "Header"
  ],
  "mappings": "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",
  "file": "Header.js",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Til Schneider (til132)\n\n************************************************************************ */\n\n/**\n * Shows the header of a table.\n */\nqx.Class.define(\"qx.ui.table.pane.Header\",\n{\n  extend : qx.ui.core.Widget,\n\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param paneScroller {qx.ui.table.pane.Scroller} the TablePaneScroller the header belongs to.\n   */\n  construct : function(paneScroller)\n  {\n    this.base(arguments);\n    this._setLayout(new qx.ui.layout.HBox());\n\n    // add blocker\n    this.__blocker = new qx.ui.core.Blocker(this);\n\n    this.__paneScroller = paneScroller;\n  },\n\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __paneScroller : null,\n    __moveFeedback : null,\n    __lastPointerOverColumn : null,\n    __blocker : null,\n\n    /**\n     * Returns the TablePaneScroller this header belongs to.\n     *\n     * @return {qx.ui.table.pane.Scroller} the TablePaneScroller.\n     */\n    getPaneScroller : function() {\n      return this.__paneScroller;\n    },\n\n\n    /**\n     * Returns the table this header belongs to.\n     *\n     * @return {qx.ui.table.Table} the table.\n     */\n    getTable : function() {\n      return this.__paneScroller.getTable();\n    },\n\n    /**\n     * Returns the blocker of the header.\n     *\n     * @return {qx.ui.core.Blocker} the blocker.\n     */\n    getBlocker : function() {\n      return this.__blocker;\n    },\n\n    /**\n     * Event handler. Called the column order has changed.\n     *\n     */\n    onColOrderChanged : function() {\n      this._updateContent(true);\n    },\n\n\n    /**\n     * Event handler. Called when the pane model has changed.\n     */\n    onPaneModelChanged : function() {\n      this._updateContent(true);\n    },\n\n\n    /**\n     * Event handler. Called when the table model meta data has changed.\n     *\n     */\n    onTableModelMetaDataChanged : function() {\n      this._updateContent();\n    },\n\n\n    /**\n     * Sets the column width. This overrides the width from the column model.\n     *\n     * @param col {Integer}\n     *   The column to change the width for.\n     *\n     * @param width {Integer}\n     *   The new width.\n     *\n     * @param isPointerAction {Boolean}\n     *   <i>true</i> if the column width is being changed as a result of a\n     *   pointer drag in the header; false or undefined otherwise.\n     *\n     */\n    setColumnWidth : function(col, width, isPointerAction)\n    {\n      var child = this.getHeaderWidgetAtColumn(col);\n\n      if (child != null) {\n        child.setWidth(width);\n      }\n    },\n\n\n    /**\n     * Sets the column the pointer is currently over.\n     *\n     * @param col {Integer} the model index of the column the pointer is currently over or\n     *      null if the pointer is over no column.\n     */\n    setPointerOverColumn : function(col)\n    {\n      if (col != this.__lastPointerOverColumn)\n      {\n        if (this.__lastPointerOverColumn != null)\n        {\n          var widget = this.getHeaderWidgetAtColumn(this.__lastPointerOverColumn);\n\n          if (widget != null) {\n            widget.removeState(\"hovered\");\n          }\n        }\n\n        if (col != null) {\n          this.getHeaderWidgetAtColumn(col).addState(\"hovered\");\n        }\n\n        this.__lastPointerOverColumn = col;\n      }\n    },\n\n\n    /**\n     * Get the header widget for the given column\n     *\n     * @param col {Integer} The column number\n     * @return {qx.ui.table.headerrenderer.HeaderCell} The header cell widget\n     */\n    getHeaderWidgetAtColumn : function(col)\n    {\n      var xPos = this.getPaneScroller().getTablePaneModel().getX(col);\n      return this._getChildren()[xPos];\n    },\n\n\n    /**\n     * Shows the feedback shown while a column is moved by the user.\n     *\n     * @param col {Integer} the model index of the column to show the move feedback for.\n     * @param x {Integer} the x position the left side of the feedback should have\n     *      (in pixels, relative to the left side of the header).\n     */\n    showColumnMoveFeedback : function(col, x)\n    {\n      var pos = this.getContentLocation();\n\n      if (this.__moveFeedback == null)\n      {\n        var table = this.getTable();\n        var xPos = this.getPaneScroller().getTablePaneModel().getX(col);\n        var cellWidget = this._getChildren()[xPos];\n\n        var tableModel = table.getTableModel();\n        var columnModel = table.getTableColumnModel();\n\n        var cellInfo =\n        {\n          xPos  : xPos,\n          col   : col,\n          name  : tableModel.getColumnName(col),\n          table : table\n        };\n\n        var cellRenderer = columnModel.getHeaderCellRenderer(col);\n        var feedback = cellRenderer.createHeaderCell(cellInfo);\n\n        var size = cellWidget.getBounds();\n\n        // Configure the feedback\n        feedback.setWidth(size.width);\n        feedback.setHeight(size.height);\n        feedback.setZIndex(1000000);\n        feedback.setOpacity(0.8);\n        feedback.setLayoutProperties({top: pos.top});\n\n        this.getApplicationRoot().add(feedback);\n        this.__moveFeedback = feedback;\n      }\n\n      this.__moveFeedback.setLayoutProperties({left: pos.left + x});\n      this.__moveFeedback.show();\n    },\n\n\n    /**\n     * Hides the feedback shown while a column is moved by the user.\n     */\n    hideColumnMoveFeedback : function()\n    {\n      if (this.__moveFeedback != null)\n      {\n        this.__moveFeedback.destroy();\n        this.__moveFeedback = null;\n      }\n    },\n\n\n    /**\n     * Returns whether the column move feedback is currently shown.\n     *\n     * @return {Boolean} <code>true</code> whether the column move feedback is\n     *    currently shown, <code>false</code> otherwise.\n     */\n    isShowingColumnMoveFeedback : function() {\n      return this.__moveFeedback != null;\n    },\n\n\n    /**\n     * Updates the content of the header.\n     *\n     * @param completeUpdate {Boolean} if true a complete update is performed. On a\n     *      complete update all header widgets are recreated.\n     */\n    _updateContent : function(completeUpdate)\n    {\n      var table = this.getTable();\n      var tableModel = table.getTableModel();\n      var columnModel = table.getTableColumnModel();\n      var paneModel = this.getPaneScroller().getTablePaneModel();\n\n      var children = this._getChildren();\n      var colCount = paneModel.getColumnCount();\n\n      var sortedColumn = tableModel.getSortColumnIndex();\n\n      // Remove all widgets on the complete update\n      if (completeUpdate) {\n        this._cleanUpCells();\n      }\n\n      // Update the header\n      var cellInfo = {};\n      cellInfo.sortedAscending = tableModel.isSortAscending();\n\n      for (var x=0; x<colCount; x++)\n      {\n        var col = paneModel.getColumnAtX(x);\n        if (col === undefined) {\n          continue;\n        }\n\n        var colWidth = columnModel.getColumnWidth(col);\n\n        var cellRenderer = columnModel.getHeaderCellRenderer(col);\n\n        cellInfo.xPos = x;\n        cellInfo.col = col;\n        cellInfo.name = tableModel.getColumnName(col);\n        cellInfo.editable = tableModel.isColumnEditable(col);\n        cellInfo.sorted = (col == sortedColumn);\n        cellInfo.table = table;\n\n        // Get the cached widget\n        var cachedWidget = children[x];\n\n        // Create or update the widget\n        if (cachedWidget == null)\n        {\n          // We have no cached widget -> create it\n          cachedWidget = cellRenderer.createHeaderCell(cellInfo);\n\n          cachedWidget.set(\n          {\n            width  : colWidth\n          });\n\n          this._add(cachedWidget);\n        }\n        else\n        {\n          // This widget already created before -> recycle it\n          cellRenderer.updateHeaderCell(cellInfo, cachedWidget);\n        }\n\n        // set the states\n        if (x === 0) {\n          cachedWidget.addState(\"first\");\n          cachedWidget.removeState(\"last\");\n        } else if (x === colCount - 1) {\n          cachedWidget.removeState(\"first\");\n          cachedWidget.addState(\"last\");\n        } else {\n          cachedWidget.removeState(\"first\");\n          cachedWidget.removeState(\"last\");\n        }\n      }\n    },\n\n\n    /**\n     * Cleans up all header cells.\n     *\n     */\n    _cleanUpCells : function()\n    {\n      var children = this._getChildren();\n\n      for (var x=children.length-1; x>=0; x--)\n      {\n        var cellWidget = children[x];\n        cellWidget.destroy();\n      }\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    this.__blocker.dispose();\n    this._disposeObjects(\"__paneScroller\");\n  }\n});\n"
  ]
}
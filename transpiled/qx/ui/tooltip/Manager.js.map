{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/qx-contrib-Dialog/node_modules/qxcompiler/node_modules/qooxdoo-sdk/framework/source/class/qx/ui/tooltip/Manager.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "type",
    "extend",
    "core",
    "Object",
    "construct",
    "event",
    "Registration",
    "addListener",
    "document",
    "body",
    "__onPointerOverRoot",
    "__showTimer",
    "Timer",
    "__onShowInterval",
    "__hideTimer",
    "__onHideInterval",
    "__pointerPosition",
    "left",
    "top",
    "properties",
    "current",
    "check",
    "nullable",
    "apply",
    "showInvalidToolTips",
    "init",
    "showToolTips",
    "members",
    "__sharedToolTip",
    "__sharedErrorToolTip",
    "getSharedTooltip",
    "ui",
    "tooltip",
    "ToolTip",
    "set",
    "rich",
    "getSharedErrorTooltip",
    "appearance",
    "setLabel",
    "syncAppearance",
    "_applyCurrent",
    "value",
    "old",
    "Widget",
    "contains",
    "isDisposed",
    "exclude",
    "stop",
    "el",
    "startWith",
    "getShowTimeout",
    "__onPointerOutRoot",
    "__onFocusOutRoot",
    "__onPointerMoveRoot",
    "removeListener",
    "e",
    "getCurrent",
    "getHideTimeout",
    "getPlaceMethod",
    "placeToWidget",
    "getOpener",
    "placeToPoint",
    "show",
    "getAutoHide",
    "resetCurrent",
    "pos",
    "Math",
    "round",
    "getDocumentLeft",
    "getDocumentTop",
    "target",
    "getWidgetByElement",
    "getTarget",
    "showToolTip",
    "tooltipText",
    "tooltipIcon",
    "invalidMessage",
    "getToolTip",
    "getToolTipText",
    "getToolTipIcon",
    "hasInterface",
    "constructor",
    "form",
    "IForm",
    "isValid",
    "getInvalidMessage",
    "getLayoutParent",
    "getEnabled",
    "isShowToolTipWhenDisabled",
    "isBlockToolTip",
    "getShowToolTips",
    "getShowInvalidToolTips",
    "label",
    "icon",
    "setCurrent",
    "setOpener",
    "related",
    "getRelatedTarget",
    "getPointerType",
    "destruct",
    "_disposeObjects",
    "Manager"
  ],
  "mappings": "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",
  "file": "Manager.js",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n     * Andreas Ecker (ecker)\n     * Adrian Olaru (adrianolaru)\n\n************************************************************************ */\n\n/**\n * The tooltip manager globally manages the tooltips of all widgets. It will\n * display tooltips if the user hovers a widgets with a tooltip and hides all\n * other tooltips.\n */\nqx.Class.define(\"qx.ui.tooltip.Manager\",\n{\n  type : \"singleton\",\n  extend : qx.core.Object,\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    // Register events\n    qx.event.Registration.addListener(document.body, \"pointerover\", this.__onPointerOverRoot, this, true);\n\n    // Instantiate timers\n    this.__showTimer = new qx.event.Timer();\n    this.__showTimer.addListener(\"interval\", this.__onShowInterval, this);\n\n    this.__hideTimer = new qx.event.Timer();\n    this.__hideTimer.addListener(\"interval\", this.__onHideInterval, this);\n\n    // Init pointer position\n    this.__pointerPosition = { left: 0, top: 0 };\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    /** Holds the current ToolTip instance */\n    current :\n    {\n      check : \"qx.ui.tooltip.ToolTip\",\n      nullable : true,\n      apply : \"_applyCurrent\"\n    },\n\n    /** Show all invalid form fields tooltips . */\n    showInvalidToolTips :\n    {\n      check : \"Boolean\",\n      init : true\n    },\n\n    /** Show all tooltips. */\n    showToolTips :\n    {\n      check : \"Boolean\",\n      init : true\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __pointerPosition : null,\n    __hideTimer : null,\n    __showTimer : null,\n    __sharedToolTip: null,\n    __sharedErrorToolTip: null,\n\n\n    /**\n     * Get the shared tooltip, which is used to display the\n     * {@link qx.ui.core.Widget#toolTipText} and\n     * {@link qx.ui.core.Widget#toolTipIcon} properties of widgets.\n     * You can use this public shared instance to e.g. customize the\n     * look and feel.\n     *\n     * @return {qx.ui.tooltip.ToolTip} The shared tooltip\n     */\n    getSharedTooltip : function()\n    {\n      if (!this.__sharedToolTip)\n      {\n        this.__sharedToolTip = new qx.ui.tooltip.ToolTip().set({\n          rich: true\n        });\n      }\n      return this.__sharedToolTip;\n    },\n\n\n    /**\n     * Get the shared tooltip, which is used to display the\n     * {@link qx.ui.core.Widget#toolTipText} and\n     * {@link qx.ui.core.Widget#toolTipIcon} properties of widgets.\n     * You can use this public shared instance to e.g. customize the\n     * look and feel of the validation tooltips like\n     * <code>getSharedErrorTooltip().getChildControl(\"atom\").getChildControl(\"label\").set({rich: true, wrap: true, width: 80})</code>\n     *\n     * @return {qx.ui.tooltip.ToolTip} The shared tooltip\n     */\n    getSharedErrorTooltip : function()\n    {\n      if (!this.__sharedErrorToolTip)\n      {\n        this.__sharedErrorToolTip = new qx.ui.tooltip.ToolTip().set({\n          appearance: \"tooltip-error\",\n          rich: true\n        });\n        this.__sharedErrorToolTip.setLabel(\"\"); // trigger label widget creation\n        this.__sharedErrorToolTip.syncAppearance();\n      }\n\n      return this.__sharedErrorToolTip;\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PROPERTY APPLY ROUTINES\n    ---------------------------------------------------------------------------\n    */\n\n    // property apply\n    _applyCurrent : function(value, old)\n    {\n      // Return if the new tooltip is a child of the old one\n      if (old && qx.ui.core.Widget.contains(old, value)) {\n        return;\n      }\n\n      // If old tooltip existing, hide it and clear widget binding\n      if (old)\n      {\n        if (!old.isDisposed()) {\n          old.exclude();\n        }\n\n        this.__showTimer.stop();\n        this.__hideTimer.stop();\n      }\n\n      var Registration = qx.event.Registration;\n      var el = document.body;\n      // If new tooltip is not null, set it up and start the timer\n      if (value)\n      {\n        this.__showTimer.startWith(value.getShowTimeout());\n\n        // Register hide handler\n        Registration.addListener(el, \"pointerout\", this.__onPointerOutRoot, this, true);\n        Registration.addListener(el, \"focusout\", this.__onFocusOutRoot, this, true);\n        Registration.addListener(el, \"pointermove\", this.__onPointerMoveRoot, this, true);\n      }\n      else\n      {\n        // Deregister hide handler\n        Registration.removeListener(el, \"pointerout\", this.__onPointerOutRoot, this, true);\n        Registration.removeListener(el, \"focusout\", this.__onFocusOutRoot, this, true);\n        Registration.removeListener(el, \"pointermove\", this.__onPointerMoveRoot, this, true);\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      TIMER EVENT HANDLER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Event listener for the interval event of the show timer.\n     *\n     * @param e {qx.event.type.Event} Event object\n     */\n    __onShowInterval : function(e)\n    {\n      var current = this.getCurrent();\n      if (current && !current.isDisposed())\n      {\n        this.__hideTimer.startWith(current.getHideTimeout());\n\n        if (current.getPlaceMethod() == \"widget\") {\n          current.placeToWidget(current.getOpener());\n        } else {\n          current.placeToPoint(this.__pointerPosition);\n        }\n\n        current.show();\n      }\n\n      this.__showTimer.stop();\n    },\n\n\n    /**\n     * Event listener for the interval event of the hide timer.\n     *\n     * @param e {qx.event.type.Event} Event object\n     */\n    __onHideInterval : function(e)\n    {\n      var current = this.getCurrent();\n\n      if(current && !current.getAutoHide()) {\n        return;\n      }\n\n      if (current && !current.isDisposed()) {\n        current.exclude();\n      }\n\n      this.__hideTimer.stop();\n      this.resetCurrent();\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      POINTER EVENT HANDLER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Global pointer move event handler\n     *\n     * @param e {qx.event.type.Pointer} The move pointer event\n     */\n    __onPointerMoveRoot : function(e)\n    {\n      var pos = this.__pointerPosition;\n\n      pos.left = Math.round(e.getDocumentLeft());\n      pos.top = Math.round(e.getDocumentTop());\n    },\n\n\n    /**\n     * Searches for the tooltip of the target widget. If any tooltip instance\n     * is found this instance is bound to the target widget and the tooltip is\n     * set as {@link #current}\n     *\n     * @param e {qx.event.type.Pointer} pointerover event\n     */\n    __onPointerOverRoot : function(e)\n    {\n      var target = qx.ui.core.Widget.getWidgetByElement(e.getTarget());\n      // take first coordinates as backup if no move event will be fired (e.g. touch devices)\n      this.__onPointerMoveRoot(e);\n      this.showToolTip(target);\n    },\n\n\n    /**\n     * Explicitly show tooltip for particular form item.\n     *\n     * @param target {Object | null} widget to show tooltip for\n     */\n    showToolTip : function(target) {\n      if (!target){\n        return;\n      }\n\n      var tooltip,\n          tooltipText,\n          tooltipIcon,\n          invalidMessage;\n\n      // Search first parent which has a tooltip\n      while (target != null)\n      {\n        tooltip = target.getToolTip();\n        tooltipText = target.getToolTipText() || null;\n        tooltipIcon = target.getToolTipIcon() || null;\n        if (qx.Class.hasInterface(target.constructor, qx.ui.form.IForm)\n            && !target.isValid()) {\n          invalidMessage = target.getInvalidMessage();\n        }\n\n        if (tooltip || tooltipText || tooltipIcon || invalidMessage) {\n          break;\n        }\n\n        target = target.getLayoutParent();\n      }\n\n      //do nothing if\n      if (!target //don't have a target\n          // tooltip is disabled and the value of showToolTipWhenDisabled is false\n          || (!target.getEnabled() && !target.isShowToolTipWhenDisabled() )\n          //tooltip is blocked\n          || target.isBlockToolTip()\n          //an invalid message isn't set and tooltips are disabled\n          || (!invalidMessage && !this.getShowToolTips())\n          //an invalid message is set and invalid tooltips are disabled\n          || (invalidMessage && !this.getShowInvalidToolTips()))\n      {\n        return;\n      }\n\n      if (invalidMessage)\n      {\n        tooltip = this.getSharedErrorTooltip().set({\n          label: invalidMessage\n        });\n      }\n      if (!tooltip)\n      {\n        tooltip = this.getSharedTooltip().set({\n          label: tooltipText,\n          icon: tooltipIcon\n        });\n      }\n      this.setCurrent(tooltip);\n      tooltip.setOpener(target);\n    },\n\n\n    /**\n     * Resets the property {@link #current} if there was a\n     * tooltip and no new one is created.\n     *\n     * @param e {qx.event.type.Pointer} pointerout event\n     */\n    __onPointerOutRoot : function(e)\n    {\n      var target = qx.ui.core.Widget.getWidgetByElement(e.getTarget());\n      if (!target) {\n        return;\n      }\n\n      var related = qx.ui.core.Widget.getWidgetByElement(e.getRelatedTarget());\n      if (!related && e.getPointerType() == \"mouse\") {\n        return;\n      }\n\n      var tooltip = this.getCurrent();\n\n      // If there was a tooltip and\n      // - the destination target is the current tooltip\n      //   or\n      // - the current tooltip contains the destination target\n      if (tooltip && (related == tooltip || qx.ui.core.Widget.contains(tooltip, related))) {\n        return;\n      }\n\n      // If the destination target exists and the target contains it\n      if (related && target && qx.ui.core.Widget.contains(target, related)) {\n        return;\n      }\n\n      if(tooltip && !tooltip.getAutoHide()) {\n        return;\n      }\n\n      // If there was a tooltip and there is no new one\n      if (tooltip && !related) {\n        this.setCurrent(null);\n      } else {\n        this.resetCurrent();\n      }\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      FOCUS EVENT HANDLER\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Reset the property {@link #current} if the\n     * current tooltip is the tooltip of the target widget.\n     *\n     * @param e {qx.event.type.Focus} blur event\n     */\n    __onFocusOutRoot : function(e)\n    {\n      var target = qx.ui.core.Widget.getWidgetByElement(e.getTarget());\n      if (!target) {\n        return;\n      }\n\n      var tooltip = this.getCurrent();\n\n      if(tooltip && !tooltip.getAutoHide()) {\n        return;\n      }\n\n      // Only set to null if blurred widget is the\n      // one which has created the current tooltip\n      if (tooltip && tooltip == target.getToolTip()) {\n        this.setCurrent(null);\n      }\n    }\n  },\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    // Deregister events\n    qx.event.Registration.removeListener(document.body, \"pointerover\", this.__onPointerOverRoot, this, true);\n\n    // Dispose timers\n    this._disposeObjects(\"__showTimer\", \"__hideTimer\", \"__sharedToolTip\");\n    this.__pointerPosition = null;\n  }\n});\n"
  ]
}
{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/qx-contrib-Dialog/node_modules/qxcompiler/node_modules/qooxdoo-sdk/framework/source/class/qx/ui/core/selection/Widget.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "selection",
    "Abstract",
    "construct",
    "widget",
    "__widget",
    "members",
    "_isSelectable",
    "item",
    "_isItemSelectable",
    "getLayoutParent",
    "_selectableToHashCode",
    "$$hash",
    "_styleSelectable",
    "type",
    "enabled",
    "addState",
    "removeState",
    "_capture",
    "capture",
    "_releaseCapture",
    "releaseCapture",
    "_userInteraction",
    "isVisible",
    "isEnabled",
    "_getWidget",
    "_getLocation",
    "elem",
    "getContentElement",
    "getDomElement",
    "bom",
    "element",
    "Location",
    "get",
    "_getDimension",
    "getInnerSize",
    "_getSelectableLocationX",
    "computed",
    "getBounds",
    "left",
    "right",
    "width",
    "_getSelectableLocationY",
    "top",
    "bottom",
    "height",
    "_getScroll",
    "_scrollBy",
    "xoff",
    "yoff",
    "_scrollItemIntoView",
    "scrollChildIntoView",
    "getSelectables",
    "all",
    "oldUserInteraction",
    "children",
    "getChildren",
    "result",
    "child",
    "i",
    "l",
    "length",
    "push",
    "_getSelectableRange",
    "item1",
    "item2",
    "active",
    "_getFirstSelectable",
    "_getLastSelectable",
    "_getRelatedSelectable",
    "relation",
    "vertical",
    "getOrientation",
    "index",
    "indexOf",
    "sibling",
    "_getPage",
    "lead",
    "up",
    "destruct",
    "Widget"
  ],
  "mappings": "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",
  "file": "Widget.js",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * A selection manager, which handles the selection in widgets.\n */\nqx.Class.define(\"qx.ui.core.selection.Widget\",\n{\n  extend : qx.ui.core.selection.Abstract,\n\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param widget {qx.ui.core.Widget} The widget to connect to\n   */\n  construct : function(widget)\n  {\n    this.base(arguments);\n\n    this.__widget = widget;\n  },\n\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n\n    __widget : null,\n\n    /*\n    ---------------------------------------------------------------------------\n      BASIC SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    _isSelectable : function(item) {\n      return this._isItemSelectable(item) && item.getLayoutParent() === this.__widget;\n    },\n\n\n    // overridden\n    _selectableToHashCode : function(item) {\n      return item.$$hash;\n    },\n\n\n    // overridden\n    _styleSelectable : function(item, type, enabled) {\n      enabled ? item.addState(type) : item.removeState(type);\n    },\n\n\n    // overridden\n    _capture : function() {\n      this.__widget.capture();\n    },\n\n\n    // overridden\n    _releaseCapture : function() {\n      this.__widget.releaseCapture();\n    },\n\n\n    /**\n     * Helper to return the selectability of the item concerning the\n     * user interaction.\n     *\n     * @param item {qx.ui.core.Widget} The item to check.\n     * @return {Boolean} true, if the item is selectable.\n     */\n    _isItemSelectable : function(item) {\n      if (this._userInteraction) {\n        return item.isVisible() && item.isEnabled();\n      } else {\n        return item.isVisible();\n      }\n    },\n\n\n    /**\n     * Returns the connected widget.\n     * @return {qx.ui.core.Widget} The widget\n     */\n    _getWidget : function() {\n      return this.__widget;\n    },\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      DIMENSION AND LOCATION\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    _getLocation : function()\n    {\n      var elem = this.__widget.getContentElement().getDomElement();\n      return elem ? qx.bom.element.Location.get(elem) : null;\n    },\n\n\n    // overridden\n    _getDimension : function() {\n      return this.__widget.getInnerSize();\n    },\n\n\n    // overridden\n    _getSelectableLocationX : function(item)\n    {\n      var computed = item.getBounds();\n      if (computed)\n      {\n        return {\n          left : computed.left,\n          right : computed.left + computed.width\n        };\n      }\n    },\n\n\n    // overridden\n    _getSelectableLocationY : function(item)\n    {\n      var computed = item.getBounds();\n      if (computed)\n      {\n        return {\n          top : computed.top,\n          bottom : computed.top + computed.height\n        };\n      }\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      SCROLL SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    _getScroll : function()\n    {\n      return {\n        left : 0,\n        top : 0\n      };\n    },\n\n\n    // overridden\n    _scrollBy : function(xoff, yoff) {\n      // empty implementation\n    },\n\n\n    // overridden\n    _scrollItemIntoView : function(item) {\n      this.__widget.scrollChildIntoView(item);\n    },\n\n\n\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      QUERY SUPPORT\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    getSelectables : function(all)\n    {\n      // if only the user selectables should be returned\n      var oldUserInteraction = false;\n      if (!all) {\n        oldUserInteraction = this._userInteraction;\n        this._userInteraction = true;\n      }\n      var children = this.__widget.getChildren();\n      var result = [];\n      var child;\n\n      for (var i=0, l=children.length; i<l; i++)\n      {\n        child = children[i];\n\n        if (this._isItemSelectable(child)) {\n          result.push(child);\n        }\n      }\n\n      // reset to the former user interaction state\n      this._userInteraction = oldUserInteraction;\n      return result;\n    },\n\n\n    // overridden\n    _getSelectableRange : function(item1, item2)\n    {\n      // Fast path for identical items\n      if (item1 === item2) {\n        return [item1];\n      }\n\n      // Iterate over children and collect all items\n      // between the given two (including them)\n      var children = this.__widget.getChildren();\n      var result = [];\n      var active = false;\n      var child;\n\n      for (var i=0, l=children.length; i<l; i++)\n      {\n        child = children[i];\n\n        if (child === item1 || child === item2)\n        {\n          if (active)\n          {\n            result.push(child);\n            break;\n          }\n          else\n          {\n            active = true;\n          }\n        }\n\n        if (active && this._isItemSelectable(child)) {\n          result.push(child);\n        }\n      }\n\n      return result;\n    },\n\n\n    // overridden\n    _getFirstSelectable : function()\n    {\n      var children = this.__widget.getChildren();\n      for (var i=0, l=children.length; i<l; i++)\n      {\n        if (this._isItemSelectable(children[i])) {\n          return children[i];\n        }\n      }\n\n      return null;\n    },\n\n\n    // overridden\n    _getLastSelectable : function()\n    {\n      var children = this.__widget.getChildren();\n      for (var i=children.length-1; i>0; i--)\n      {\n        if (this._isItemSelectable(children[i])) {\n          return children[i];\n        }\n      }\n\n      return null;\n    },\n\n\n    // overridden\n    _getRelatedSelectable : function(item, relation)\n    {\n      var vertical = this.__widget.getOrientation() === \"vertical\";\n      var children = this.__widget.getChildren();\n      var index = children.indexOf(item);\n      var sibling;\n\n      if ((vertical && relation === \"above\") || (!vertical && relation === \"left\"))\n      {\n        for (var i=index-1; i>=0; i--)\n        {\n          sibling = children[i];\n          if (this._isItemSelectable(sibling)) {\n            return sibling;\n          }\n        }\n      }\n      else if ((vertical && relation === \"under\") || (!vertical && relation === \"right\"))\n      {\n        for (var i=index+1; i<children.length; i++)\n        {\n          sibling = children[i];\n          if (this._isItemSelectable(sibling)) {\n            return sibling;\n          }\n        }\n      }\n\n      return null;\n    },\n\n\n    // overridden\n    _getPage : function(lead, up)\n    {\n      if (up) {\n        return this._getFirstSelectable();\n      } else {\n        return this._getLastSelectable();\n      }\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function() {\n    this.__widget = null;\n  }\n});\n"
  ]
}
{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/qx-contrib-Dialog/node_modules/qxcompiler/node_modules/qooxdoo-sdk/framework/source/class/qx/ui/control/DateChooser.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "Widget",
    "include",
    "MExecutable",
    "form",
    "MForm",
    "implement",
    "IExecutable",
    "IForm",
    "IDateForm",
    "construct",
    "date",
    "layout",
    "VBox",
    "_setLayout",
    "_createChildControl",
    "addListener",
    "_onKeyPress",
    "DateChooser",
    "control",
    "MONTH_YEAR_FORMAT",
    "locale",
    "Date",
    "getDateTimeFormat",
    "shownDate",
    "showMonth",
    "getMonth",
    "getFullYear",
    "Manager",
    "getInstance",
    "_updateDatePane",
    "_onPointerUpDown",
    "statics",
    "WEEKDAY_FORMAT",
    "WEEK_FORMAT",
    "properties",
    "appearance",
    "refine",
    "init",
    "width",
    "height",
    "shownMonth",
    "check",
    "nullable",
    "event",
    "shownYear",
    "value",
    "apply",
    "members",
    "__weekdayLabelArr",
    "__dayLabelArr",
    "__weekLabelArr",
    "_forwardStates",
    "invalid",
    "_createChildControlImpl",
    "id",
    "hash",
    "container",
    "Composite",
    "HBox",
    "add",
    "getChildControl",
    "flex",
    "_add",
    "tooltip",
    "ToolTip",
    "tr",
    "toolbar",
    "Button",
    "addState",
    "setFocusable",
    "setToolTip",
    "_onNavButtonTap",
    "basic",
    "Label",
    "setAllowGrowX",
    "setAnonymous",
    "setAllowGrowY",
    "setSelectable",
    "setCursor",
    "_onDayTap",
    "_onDayDblTap",
    "controlLayout",
    "Grid",
    "i",
    "setColumnFlex",
    "setRowFlex",
    "label",
    "column",
    "row",
    "push",
    "y",
    "x",
    "_applyValue",
    "old",
    "getShownMonth",
    "getShownYear",
    "newDay",
    "getDate",
    "dayLabel",
    "hasState",
    "removeState",
    "day",
    "parseInt",
    "getValue",
    "e",
    "target",
    "getTarget",
    "stopPropagation",
    "evt",
    "year",
    "month",
    "getCurrentTarget",
    "time",
    "dateTime",
    "setValue",
    "execute",
    "dayIncrement",
    "monthIncrement",
    "yearIncrement",
    "getModifiers",
    "getKeyIdentifier",
    "isShiftPressed",
    "getTime",
    "setDate",
    "setMonth",
    "setFullYear",
    "setShownMonth",
    "setShownYear",
    "handleKeyPress",
    "today",
    "todayYear",
    "todayMonth",
    "todayDayOfMonth",
    "selDate",
    "selYear",
    "selMonth",
    "selDayOfMonth",
    "startOfWeek",
    "getWeekStart",
    "helpDate",
    "monthYearFormat",
    "util",
    "format",
    "DateFormat",
    "firstDayOfWeek",
    "getDay",
    "firstSundayInMonth",
    "weekDayFormat",
    "isWeekend",
    "nrDaysOfLastMonth",
    "weekFormat",
    "week",
    "dayOfMonth",
    "isSelectedDate",
    "isToday",
    "dispose",
    "destruct",
    "removeListener"
  ],
  "mappings": "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",
  "file": "DateChooser.js",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2006 STZ-IDA, Germany, http://www.stz-ida.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Til Schneider (til132)\n     * Martin Wittemann (martinwittemann)\n\n************************************************************************ */\n\n/**\n * A *date chooser* is a small calendar including a navigation bar to switch the shown\n * month. It includes a column for the calendar week and shows one month. Selecting\n * a date is as easy as tapping on it.\n *\n * To be conform with all form widgets, the {@link qx.ui.form.IForm} interface\n * is implemented.\n *\n * The following example creates and adds a date chooser to the root element.\n * A listener alerts the user if a new date is selected.\n *\n * <pre class='javascript'>\n * var chooser = new qx.ui.control.DateChooser();\n * this.getRoot().add(chooser, { left : 20, top: 20});\n *\n * chooser.addListener(\"changeValue\", function(e) {\n *   alert(e.getData());\n * });\n * </pre>\n *\n * Additionally to a selection event an execute event is available which is\n * fired by doubletap or tapping the space / enter key. With this event you\n * can for example save the selection and close the date chooser.\n *\n * @childControl navigation-bar {qx.ui.container.Composite} container for the navigation bar controls\n * @childControl last-year-button-tooltip {qx.ui.tooltip.ToolTip} tooltip for the last year button\n * @childControl last-year-button {qx.ui.form.Button} button to jump to the last year\n * @childControl last-month-button-tooltip {qx.ui.tooltip.ToolTip} tooltip for the last month button\n * @childControl last-month-button {qx.ui.form.Button} button to jump to the last month\n * @childControl next-month-button-tooltip {qx.ui.tooltip.ToolTip} tooltip for the next month button\n * @childControl next-month-button {qx.ui.form.Button} button to jump to the next month\n * @childControl next-year-button-tooltip {qx.ui.tooltip.ToolTip} tooltip for the next year button\n * @childControl next-year-button {qx.ui.form.Button} button to jump to the next year\n * @childControl month-year-label {qx.ui.basic.Label} shows the current month and year\n * @childControl week {qx.ui.basic.Label} week label (used multiple times)\n * @childControl weekday {qx.ui.basic.Label} weekday label (used multiple times)\n * @childControl day {qx.ui.basic.Label} day label (used multiple times)\n * @childControl date-pane {qx.ui.container.Composite} the pane used to position the week, weekday and day labels\n *\n */\nqx.Class.define(\"qx.ui.control.DateChooser\",\n{\n  extend : qx.ui.core.Widget,\n  include : [\n    qx.ui.core.MExecutable,\n    qx.ui.form.MForm\n  ],\n  implement : [\n    qx.ui.form.IExecutable,\n    qx.ui.form.IForm,\n    qx.ui.form.IDateForm\n  ],\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param date {Date ? null} The initial date to show. If <code>null</code>\n   * the current day (today) is shown.\n   */\n  construct : function(date)\n  {\n    this.base(arguments);\n\n    // set the layout\n    var layout = new qx.ui.layout.VBox();\n    this._setLayout(layout);\n\n    // create the child controls\n    this._createChildControl(\"navigation-bar\");\n    this._createChildControl(\"date-pane\");\n\n    // Support for key events\n    this.addListener(\"keypress\", this._onKeyPress);\n\n    // initialize format - moved from statics{} to constructor due to [BUG #7149]\n    var DateChooser = qx.ui.control.DateChooser;\n    if (!DateChooser.MONTH_YEAR_FORMAT) {\n        DateChooser.MONTH_YEAR_FORMAT = qx.locale.Date.getDateTimeFormat(\"yyyyMMMM\", \"MMMM yyyy\");\n    }\n\n    // Show the right date\n    var shownDate = (date != null) ? date : new Date();\n    this.showMonth(shownDate.getMonth(), shownDate.getFullYear());\n\n    // listen for locale changes\n    if (qx.core.Environment.get(\"qx.dynlocale\")) {\n      qx.locale.Manager.getInstance().addListener(\"changeLocale\", this._updateDatePane, this);\n    }\n\n    // register pointer up and down handler\n    this.addListener(\"pointerdown\", this._onPointerUpDown, this);\n    this.addListener(\"pointerup\", this._onPointerUpDown, this);\n  },\n\n\n\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /**\n     * @type {string} The format for the date year label at the top center.\n     */\n    MONTH_YEAR_FORMAT : null,\n\n    /**\n     * @type {string} The format for the weekday labels (the headers of the date table).\n     */\n    WEEKDAY_FORMAT : \"EE\",\n\n    /**\n     * @type {string} The format for the week numbers (the labels of the left column).\n     */\n    WEEK_FORMAT : \"ww\"\n  },\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    // overridden\n    appearance :\n    {\n      refine : true,\n      init   : \"datechooser\"\n    },\n\n    // overridden\n    width :\n    {\n      refine : true,\n      init : 200\n    },\n\n    // overridden\n    height :\n    {\n      refine : true,\n      init : 150\n    },\n\n    /** The currently shown month. 0 = january, 1 = february, and so on. */\n    shownMonth :\n    {\n      check : \"Integer\",\n      init : null,\n      nullable : true,\n      event : \"changeShownMonth\"\n    },\n\n    /** The currently shown year. */\n    shownYear :\n    {\n      check : \"Integer\",\n      init : null,\n      nullable : true,\n      event : \"changeShownYear\"\n    },\n\n    /** The date value of the widget. */\n    value :\n    {\n      check : \"Date\",\n      init : null,\n      nullable : true,\n      event : \"changeValue\",\n      apply : \"_applyValue\"\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __weekdayLabelArr : null,\n    __dayLabelArr : null,\n    __weekLabelArr : null,\n\n\n    // overridden\n    /**\n     * @lint ignoreReferenceField(_forwardStates)\n     */\n    _forwardStates :\n    {\n      invalid : true\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      WIDGET INTERNALS\n    ---------------------------------------------------------------------------\n    */\n\n    // overridden\n    _createChildControlImpl : function(id, hash)\n    {\n      var control;\n\n      switch(id)\n      {\n        // NAVIGATION BAR STUFF\n        case \"navigation-bar\":\n          control = new qx.ui.container.Composite(new qx.ui.layout.HBox());\n\n          // Add the navigation bar elements\n          control.add(this.getChildControl(\"last-year-button\"));\n          control.add(this.getChildControl(\"last-month-button\"));\n          control.add(this.getChildControl(\"month-year-label\"), {flex: 1});\n          control.add(this.getChildControl(\"next-month-button\"));\n          control.add(this.getChildControl(\"next-year-button\"));\n\n          this._add(control);\n          break;\n\n        case \"last-year-button-tooltip\":\n          control = new qx.ui.tooltip.ToolTip(this.tr(\"Last year\"));\n          break;\n\n        case \"last-year-button\":\n          control = new qx.ui.toolbar.Button();\n          control.addState(\"lastYear\");\n          control.setFocusable(false);\n          control.setToolTip(this.getChildControl(\"last-year-button-tooltip\"));\n          control.addListener(\"tap\", this._onNavButtonTap, this);\n          break;\n\n        case \"last-month-button-tooltip\":\n          control = new qx.ui.tooltip.ToolTip(this.tr(\"Last month\"));\n          break;\n\n        case \"last-month-button\":\n          control = new qx.ui.toolbar.Button();\n          control.addState(\"lastMonth\");\n          control.setFocusable(false);\n          control.setToolTip(this.getChildControl(\"last-month-button-tooltip\"));\n          control.addListener(\"tap\", this._onNavButtonTap, this);\n          break;\n\n        case \"next-month-button-tooltip\":\n          control = new qx.ui.tooltip.ToolTip(this.tr(\"Next month\"));\n          break;\n\n        case \"next-month-button\":\n          control = new qx.ui.toolbar.Button();\n          control.addState(\"nextMonth\");\n          control.setFocusable(false);\n          control.setToolTip(this.getChildControl(\"next-month-button-tooltip\"));\n          control.addListener(\"tap\", this._onNavButtonTap, this);\n          break;\n\n        case \"next-year-button-tooltip\":\n          control = new qx.ui.tooltip.ToolTip(this.tr(\"Next year\"));\n          break;\n\n        case \"next-year-button\":\n          control = new qx.ui.toolbar.Button();\n          control.addState(\"nextYear\");\n          control.setFocusable(false);\n          control.setToolTip(this.getChildControl(\"next-year-button-tooltip\"));\n          control.addListener(\"tap\", this._onNavButtonTap, this);\n          break;\n\n        case \"month-year-label\":\n          control = new qx.ui.basic.Label();\n          control.setAllowGrowX(true);\n          control.setAnonymous(true);\n          break;\n\n        case \"week\":\n          control = new qx.ui.basic.Label();\n          control.setAllowGrowX(true);\n          control.setAllowGrowY(true);\n          control.setSelectable(false);\n          control.setAnonymous(true);\n          control.setCursor(\"default\");\n          break;\n\n        case \"weekday\":\n          control = new qx.ui.basic.Label();\n          control.setAllowGrowX(true);\n          control.setAllowGrowY(true);\n          control.setSelectable(false);\n          control.setAnonymous(true);\n          control.setCursor(\"default\");\n          break;\n\n        case \"day\":\n          control = new qx.ui.basic.Label();\n          control.setAllowGrowX(true);\n          control.setAllowGrowY(true);\n          control.setCursor(\"default\");\n          control.addListener(\"pointerdown\", this._onDayTap, this);\n          control.addListener(\"dbltap\", this._onDayDblTap, this);\n          break;\n\n        case \"date-pane\":\n          var controlLayout = new qx.ui.layout.Grid();\n          control = new qx.ui.container.Composite(controlLayout);\n\n          for (var i = 0; i < 8; i++) {\n            controlLayout.setColumnFlex(i, 1);\n          }\n\n          for (var i = 0; i < 7; i++) {\n            controlLayout.setRowFlex(i, 1);\n          }\n\n          // Create the weekdays\n          // Add an empty label as spacer for the week numbers\n          var label = this.getChildControl(\"week#0\");\n          label.addState(\"header\");\n          control.add(label, {column: 0, row: 0});\n\n          this.__weekdayLabelArr = [];\n          for (var i=0; i<7; i++)\n          {\n            label = this.getChildControl(\"weekday#\" + i);\n            control.add(label, {column: i + 1, row: 0});\n            this.__weekdayLabelArr.push(label);\n          }\n\n          // Add the days\n          this.__dayLabelArr = [];\n          this.__weekLabelArr = [];\n\n          for (var y = 0; y < 6; y++)\n          {\n            // Add the week label\n            var label = this.getChildControl(\"week#\" + (y+1));\n            control.add(label, {column: 0, row: y + 1});\n            this.__weekLabelArr.push(label);\n\n            // Add the day labels\n            for (var x = 0; x < 7; x++)\n            {\n              var label = this.getChildControl(\"day#\" + ((y*7)+x));\n              control.add(label, {column:x + 1, row:y + 1});\n              this.__dayLabelArr.push(label);\n            }\n          }\n\n          this._add(control);\n          break;\n      }\n\n      return control || this.base(arguments, id);\n    },\n\n\n    // apply methods\n    _applyValue : function(value, old)\n    {\n      if ((value != null) && (this.getShownMonth() != value.getMonth() || this.getShownYear() != value.getFullYear()))\n      {\n        // The new date is in another month -> Show that month\n        this.showMonth(value.getMonth(), value.getFullYear());\n      }\n      else\n      {\n        // The new date is in the current month -> Just change the states\n        var newDay = (value == null) ? -1 : value.getDate();\n\n        for (var i=0; i<6*7; i++)\n        {\n          var dayLabel = this.__dayLabelArr[i];\n\n          if (dayLabel.hasState(\"otherMonth\"))\n          {\n            if (dayLabel.hasState(\"selected\")) {\n              dayLabel.removeState(\"selected\");\n            }\n          }\n          else\n          {\n            var day = parseInt(dayLabel.getValue(), 10);\n\n            if (day == newDay) {\n              dayLabel.addState(\"selected\");\n            } else if (dayLabel.hasState(\"selected\")) {\n              dayLabel.removeState(\"selected\");\n            }\n          }\n        }\n      }\n    },\n\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLER\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Handler which stops the propagation of the tap event if\n     * the navigation bar or calendar headers will be tapped.\n     *\n     * @param e {qx.event.type.Pointer} The pointer up / down event\n     */\n    _onPointerUpDown : function(e) {\n      var target = e.getTarget();\n\n      if (target == this.getChildControl(\"navigation-bar\") ||\n          target == this.getChildControl(\"date-pane\")) {\n        e.stopPropagation();\n        return;\n      }\n    },\n\n\n    /**\n     * Event handler. Called when a navigation button has been tapped.\n     *\n     * @param evt {qx.event.type.Data} The data event.\n     */\n    _onNavButtonTap : function(evt)\n    {\n      var year = this.getShownYear();\n      var month = this.getShownMonth();\n\n      switch(evt.getCurrentTarget())\n      {\n        case this.getChildControl(\"last-year-button\"):\n          year--;\n          break;\n\n        case this.getChildControl(\"last-month-button\"):\n          month--;\n\n          if (month < 0)\n          {\n            month = 11;\n            year--;\n          }\n\n          break;\n\n        case this.getChildControl(\"next-month-button\"):\n          month++;\n\n          if (month >= 12)\n          {\n            month = 0;\n            year++;\n          }\n\n          break;\n\n        case this.getChildControl(\"next-year-button\"):\n          year++;\n          break;\n      }\n\n      this.showMonth(month, year);\n    },\n\n\n    /**\n     * Event handler. Called when a day has been tapped.\n     *\n     * @param evt {qx.event.type.Data} The event.\n     */\n    _onDayTap : function(evt)\n    {\n      var time = evt.getCurrentTarget().dateTime;\n      this.setValue(new Date(time));\n    },\n\n\n    /**\n     * Event handler. Called when a day has been double-tapped.\n     */\n    _onDayDblTap : function() {\n      this.execute();\n    },\n\n\n    /**\n     * Event handler. Called when a key was pressed.\n     *\n     * @param evt {qx.event.type.Data} The event.\n     */\n    _onKeyPress : function(evt)\n    {\n      var dayIncrement = null;\n      var monthIncrement = null;\n      var yearIncrement = null;\n\n      if (evt.getModifiers() == 0)\n      {\n        switch(evt.getKeyIdentifier())\n        {\n          case \"Left\":\n            dayIncrement = -1;\n            break;\n\n          case \"Right\":\n            dayIncrement = 1;\n            break;\n\n          case \"Up\":\n            dayIncrement = -7;\n            break;\n\n          case \"Down\":\n            dayIncrement = 7;\n            break;\n\n          case \"PageUp\":\n            monthIncrement = -1;\n            break;\n\n          case \"PageDown\":\n            monthIncrement = 1;\n            break;\n\n          case \"Escape\":\n            if (this.getValue() != null)\n            {\n              this.setValue(null);\n              return;\n            }\n\n            break;\n\n          case \"Enter\":\n          case \"Space\":\n            if (this.getValue() != null) {\n              this.execute();\n            }\n\n            return;\n        }\n      }\n      else if (evt.isShiftPressed())\n      {\n        switch(evt.getKeyIdentifier())\n        {\n          case \"PageUp\":\n            yearIncrement = -1;\n            break;\n\n          case \"PageDown\":\n            yearIncrement = 1;\n            break;\n        }\n      }\n\n      if (dayIncrement != null || monthIncrement != null || yearIncrement != null)\n      {\n        var date = this.getValue();\n\n        if (date != null) {\n          date = new Date(date.getTime());\n        }\n\n        if (date == null) {\n          date = new Date();\n        }\n        else\n        {\n          if (dayIncrement != null){date.setDate(date.getDate() + dayIncrement);}\n          if (monthIncrement != null){date.setMonth(date.getMonth() + monthIncrement);}\n          if (yearIncrement != null){date.setFullYear(date.getFullYear() + yearIncrement);}\n        }\n\n        this.setValue(date);\n      }\n    },\n\n\n    /**\n     * Shows a certain month.\n     *\n     * @param month {Integer ? null} the month to show (0 = january). If not set\n     *      the month will remain the same.\n     * @param year {Integer ? null} the year to show. If not set the year will\n     *      remain the same.\n     */\n    showMonth : function(month, year)\n    {\n      if ((month != null && month != this.getShownMonth()) || (year != null && year != this.getShownYear()))\n      {\n        if (month != null) {\n          this.setShownMonth(month);\n        }\n\n        if (year != null) {\n          this.setShownYear(year);\n        }\n\n        this._updateDatePane();\n      }\n    },\n\n\n    /**\n     * Event handler. Used to handle the key events.\n     *\n     * @param e {qx.event.type.Data} The event.\n     */\n    handleKeyPress : function(e) {\n      this._onKeyPress(e);\n    },\n\n\n    /**\n     * Updates the date pane.\n     */\n    _updateDatePane : function()\n    {\n      var DateChooser = qx.ui.control.DateChooser;\n\n      var today = new Date();\n      var todayYear = today.getFullYear();\n      var todayMonth = today.getMonth();\n      var todayDayOfMonth = today.getDate();\n\n      var selDate = this.getValue();\n      var selYear = (selDate == null) ? -1 : selDate.getFullYear();\n      var selMonth = (selDate == null) ? -1 : selDate.getMonth();\n      var selDayOfMonth = (selDate == null) ? -1 : selDate.getDate();\n\n      var shownMonth = this.getShownMonth();\n      var shownYear = this.getShownYear();\n\n      var startOfWeek = qx.locale.Date.getWeekStart();\n\n      // Create a help date that points to the first of the current month\n      var helpDate = new Date(this.getShownYear(), this.getShownMonth(), 1);\n\n      var monthYearFormat = new qx.util.format.DateFormat(DateChooser.MONTH_YEAR_FORMAT);\n      this.getChildControl(\"month-year-label\").setValue(monthYearFormat.format(helpDate));\n\n      // Show the day names\n      var firstDayOfWeek = helpDate.getDay();\n      var firstSundayInMonth = 1 + ((7 - firstDayOfWeek) % 7);\n      var weekDayFormat = new qx.util.format.DateFormat(DateChooser.WEEKDAY_FORMAT);\n\n      for (var i=0; i<7; i++)\n      {\n        var day = (i + startOfWeek) % 7;\n\n        var dayLabel = this.__weekdayLabelArr[i];\n\n        helpDate.setDate(firstSundayInMonth + day);\n        dayLabel.setValue(weekDayFormat.format(helpDate));\n\n        if (qx.locale.Date.isWeekend(day)) {\n          dayLabel.addState(\"weekend\");\n        } else {\n          dayLabel.removeState(\"weekend\");\n        }\n      }\n\n      // Show the days\n      helpDate = new Date(shownYear, shownMonth, 1, 12, 0, 0);\n      var nrDaysOfLastMonth = (7 + firstDayOfWeek - startOfWeek) % 7;\n      helpDate.setDate(helpDate.getDate() - nrDaysOfLastMonth);\n\n      var weekFormat = new qx.util.format.DateFormat(DateChooser.WEEK_FORMAT);\n\n      for (var week=0; week<6; week++)\n      {\n        this.__weekLabelArr[week].setValue(weekFormat.format(helpDate));\n\n        for (var i=0; i<7; i++)\n        {\n          var dayLabel = this.__dayLabelArr[week * 7 + i];\n\n          var year = helpDate.getFullYear();\n          var month = helpDate.getMonth();\n          var dayOfMonth = helpDate.getDate();\n\n          var isSelectedDate = (selYear == year && selMonth == month && selDayOfMonth == dayOfMonth);\n\n          if (isSelectedDate) {\n            dayLabel.addState(\"selected\");\n          } else {\n            dayLabel.removeState(\"selected\");\n          }\n\n          if (month != shownMonth) {\n            dayLabel.addState(\"otherMonth\");\n          } else {\n            dayLabel.removeState(\"otherMonth\");\n          }\n\n          var isToday = (year == todayYear && month == todayMonth && dayOfMonth == todayDayOfMonth);\n\n          if (isToday) {\n            dayLabel.addState(\"today\");\n          } else {\n            dayLabel.removeState(\"today\");\n          }\n\n          dayLabel.setValue(\"\" + dayOfMonth);\n          dayLabel.dateTime = helpDate.getTime();\n\n          // Go to the next day\n          helpDate.setDate(helpDate.getDate() + 1);\n        }\n      }\n\n      monthYearFormat.dispose();\n      weekDayFormat.dispose();\n      weekFormat.dispose();\n    }\n  },\n\n\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function()\n  {\n    if (qx.core.Environment.get(\"qx.dynlocale\")) {\n      qx.locale.Manager.getInstance().removeListener(\"changeLocale\", this._updateDatePane, this);\n    }\n\n    this.__weekdayLabelArr = this.__dayLabelArr = this.__weekLabelArr = null;\n  }\n});\n"
  ]
}
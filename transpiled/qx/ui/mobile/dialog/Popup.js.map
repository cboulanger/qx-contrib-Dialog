{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/qx-contrib-Dialog/node_modules/qxcompiler/node_modules/qooxdoo-sdk/framework/source/class/qx/ui/mobile/dialog/Popup.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "mobile",
    "core",
    "Widget",
    "statics",
    "ROOT",
    "construct",
    "widget",
    "anchor",
    "exclude",
    "dialog",
    "Popup",
    "Init",
    "getApplication",
    "getRoot",
    "add",
    "__anchor",
    "_initializeChild",
    "properties",
    "defaultCssClass",
    "refine",
    "init",
    "title",
    "apply",
    "nullable",
    "check",
    "event",
    "icon",
    "modal",
    "hideOnBlockerTap",
    "members",
    "__isShown",
    "__childrenContainer",
    "__percentageTop",
    "__widget",
    "__titleWidget",
    "__lastPopupDimension",
    "_updatePosition",
    "anchorClasses",
    "i",
    "length",
    "removeCssClass",
    "addCssClass",
    "rootHeight",
    "getHeight",
    "rootWidth",
    "getWidth",
    "rootPosition",
    "bom",
    "element",
    "Location",
    "get",
    "getContainerElement",
    "anchorPosition",
    "popupDimension",
    "Dimension",
    "getSize",
    "computedPopupPosition",
    "util",
    "placement",
    "Placement",
    "compute",
    "width",
    "left",
    "height",
    "top",
    "right",
    "bottom",
    "_resetPosition",
    "isTop",
    "isLeft",
    "isOutsideViewPort",
    "_positionToCenter",
    "placeTo",
    "show",
    "fireEvent",
    "__registerEventListener",
    "getModal",
    "Blocker",
    "getInstance",
    "getHideOnBlockerTap",
    "addListener",
    "hide",
    "__unregisterEventListener",
    "removeListener",
    "hideWithDelay",
    "delay",
    "lang",
    "Function",
    "isShown",
    "toggleVisibility",
    "_setStyle",
    "_trackUserTap",
    "evt",
    "clientX",
    "getViewportLeft",
    "clientY",
    "getViewportTop",
    "popupLocation",
    "isOutsideWidget",
    "container",
    "style",
    "position",
    "marginLeft",
    "parseInt",
    "offsetWidth",
    "marginTop",
    "offsetHeight",
    "Registration",
    "window",
    "Composite",
    "layout",
    "VBox",
    "setDefaultCssClass",
    "_add",
    "_createTitleWidget",
    "remove",
    "flex",
    "getTitle",
    "getIcon",
    "basic",
    "Atom",
    "_applyTitle",
    "value",
    "old",
    "setLabel",
    "addBefore",
    "_applyIcon",
    "setIcon",
    "removeWidget",
    "setAnchor",
    "getTitleWidget",
    "log",
    "Logger",
    "debug",
    "destruct",
    "_disposeObjects",
    "_anchor"
  ],
  "mappings": "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",
  "file": "Popup.js",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Gabriel Munteanu (gabios)\n     * Christopher Zuendorf (czuendorf)\n\n************************************************************************ */\n\n/**\n * The popup represents a widget that gets shown above other widgets,\n * usually to present more info/details regarding an item in the application.\n *\n * There are 3 usages for now:\n *\n * <pre class='javascript'>\n * var widget = new qx.ui.mobile.form.Button(\"Error!\");\n * var popup = new qx.ui.mobile.dialog.Popup(widget);\n * popup.show();\n * </pre>\n * Here we show a popup consisting of a single buttons alerting the user\n * that an error has occurred.\n * It will be centered to the screen.\n * <pre class='javascript'>\n * var label = new qx.ui.mobile.basic.Label(\"Item1\");\n * var widget = new qx.ui.mobile.form.Button(\"Error!\");\n * var popup = new qx.ui.mobile.dialog.Popup(widget, label);\n * popup.show();\n * widget.addListener(\"tap\", function(){\n *   popup.hide();\n * });\n *\n * </pre>\n *\n * In this case everything is as above, except that the popup will get shown next to \"label\"\n * so that the user can understand that the info presented is about the \"Item1\"\n * we also add a tap listener to the button that will hide out popup.\n *\n * Once created, the instance is reused between show/hide calls.\n *\n * <pre class='javascript'>\n * var widget = new qx.ui.mobile.form.Button(\"Error!\");\n * var popup = new qx.ui.mobile.dialog.Popup(widget);\n * popup.placeTo(25,100);\n * popup.show();\n * </pre>\n *\n * Same as the first example, but this time the popup will be shown at the 25,100 coordinates.\n *\n *\n */\nqx.Class.define(\"qx.ui.mobile.dialog.Popup\",\n{\n  extend : qx.ui.mobile.core.Widget,\n\n\n  statics:\n  {\n    ROOT : null\n  },\n\n\n  /**\n   * @param widget {qx.ui.mobile.core.Widget} the widget that will be shown in the popup\n   * @param anchor {qx.ui.mobile.core.Widget?} optional parameter, a widget to attach this popup to\n   */\n  construct : function(widget, anchor)\n  {\n    this.base(arguments);\n    this.exclude();\n\n    if(qx.ui.mobile.dialog.Popup.ROOT == null) {\n      qx.ui.mobile.dialog.Popup.ROOT = qx.core.Init.getApplication().getRoot();\n    }\n    qx.ui.mobile.dialog.Popup.ROOT.add(this);\n\n    this.__anchor = anchor;\n\n    if(widget) {\n      this._initializeChild(widget);\n    }\n  },\n\n\n  properties :\n  {\n    // overridden\n    defaultCssClass :\n    {\n      refine : true,\n      init : \"popup\"\n    },\n\n\n    /**\n     * The label/caption/text of the qx.ui.mobile.basic.Atom instance\n     */\n    title :\n    {\n      apply : \"_applyTitle\",\n      nullable : true,\n      check : \"String\",\n      event : \"changeTitle\"\n    },\n\n\n    /**\n     * Any URI String supported by qx.ui.mobile.basic.Image to display an icon\n     */\n    icon :\n    {\n      check : \"String\",\n      apply : \"_applyIcon\",\n      nullable : true,\n      event : \"changeIcon\"\n    },\n\n\n    /**\n     * Whether the popup should be displayed modal.\n     */\n    modal :\n    {\n      init : false,\n      check : \"Boolean\",\n      nullable: false\n    },\n\n\n    /**\n     * Indicates whether the a modal popup should disappear when user taps/clicks on Blocker.\n     */\n    hideOnBlockerTap :\n    {\n      check : \"Boolean\",\n      init : false\n    }\n  },\n\n\n  members :\n  {\n    __isShown : false,\n    __childrenContainer : null,\n    __percentageTop : null,\n    __anchor: null,\n    __widget: null,\n    __titleWidget: null,\n    __lastPopupDimension : null,\n\n\n    /**\n     * Event handler. Called whenever the position of the popup should be updated.\n     */\n    _updatePosition : function()\n    {\n      // Traverse single anchor classes for removal, for preventing 'domupdated' event if no CSS classes changed.\n      var anchorClasses = ['top', 'bottom', 'left', 'right', 'anchor'];\n      for (var i = 0; i < anchorClasses.length; i++) {\n        this.removeCssClass(anchorClasses[i]);\n      }\n\n      if (this.__anchor)\n      {\n        this.addCssClass('anchor');\n\n        var rootHeight = qx.ui.mobile.dialog.Popup.ROOT.getHeight();\n        var rootWidth = qx.ui.mobile.dialog.Popup.ROOT.getWidth();\n\n        var rootPosition = qx.bom.element.Location.get(qx.ui.mobile.dialog.Popup.ROOT.getContainerElement());\n        var anchorPosition = qx.bom.element.Location.get(this.__anchor.getContainerElement());\n        var popupDimension = qx.bom.element.Dimension.getSize(this.getContainerElement());\n\n        this.__lastPopupDimension = popupDimension;\n\n        var computedPopupPosition = qx.util.placement.Placement.compute(popupDimension, {\n          width: rootPosition.left + rootWidth,\n          height: rootPosition.top + rootHeight\n        }, anchorPosition, {\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0\n        }, \"bottom-left\", \"keep-align\", \"keep-align\");\n\n        // Reset Anchor.\n        this._resetPosition();\n\n        var isTop = anchorPosition.top > computedPopupPosition.top;\n        var isLeft = anchorPosition.left > computedPopupPosition.left;\n\n        computedPopupPosition.top = computedPopupPosition.top - rootPosition.top;\n        computedPopupPosition.left = computedPopupPosition.left - rootPosition.left;\n\n        var isOutsideViewPort = computedPopupPosition.top < 0\n          || computedPopupPosition.left < 0\n          || computedPopupPosition.left + popupDimension.width > rootWidth\n          || computedPopupPosition.top + popupDimension.height > rootHeight;\n\n        if(isOutsideViewPort) {\n          this._positionToCenter();\n        } else {\n          if (isTop) {\n            this.addCssClass('bottom');\n          } else {\n            this.addCssClass('top');\n          }\n          if (isLeft) {\n            this.addCssClass('right');\n          } else {\n            this.addCssClass('left');\n          }\n\n          this.placeTo(computedPopupPosition.left, computedPopupPosition.top);\n        }\n      } else if (this.__childrenContainer) {\n        // No Anchor\n        this._positionToCenter();\n      }\n    },\n\n\n    /**\n     * This method shows the popup.\n     * First it updates the position, then registers the event handlers, and shows it.\n     */\n    show : function()\n    {\n      if (!this.__isShown)\n      {\n        qx.core.Init.getApplication().fireEvent(\"popup\");\n\n        this.__registerEventListener();\n\n        // Move outside of viewport\n        this.placeTo(-1000,-1000);\n\n        // Needs to be added to screen, before rendering position, for calculating\n        // objects height.\n        this.base(arguments);\n\n        // Now render position.\n        this._updatePosition();\n      }\n      this.__isShown = true;\n\n      if(this.getModal() === true)\n      {\n        qx.ui.mobile.core.Blocker.getInstance().show();\n\n        if(this.getHideOnBlockerTap()) {\n          qx.ui.mobile.core.Blocker.getInstance().addListener(\"tap\", this.hide, this);\n        }\n      }\n    },\n\n\n    /**\n     * Hides the popup.\n     */\n    hide : function()\n    {\n      if (this.__isShown)\n      {\n        this.__unregisterEventListener();\n\n        this.exclude();\n      }\n      this.__isShown = false;\n\n      if(this.getModal())\n      {\n        qx.ui.mobile.core.Blocker.getInstance().hide();\n      }\n\n      qx.ui.mobile.core.Blocker.getInstance().removeListener(\"tap\", this.hide, this);\n    },\n\n\n    /**\n     * Hides the popup after a given time delay.\n     * @param delay {Integer} time delay in ms.\n     */\n    hideWithDelay : function(delay) {\n      if (delay) {\n        qx.lang.Function.delay(this.hide, delay, this);\n      } else {\n        this.hide();\n      }\n    },\n\n\n    /**\n     * Returns the shown state of this popup.\n     * @return {Boolean} whether the popup is shown or not.\n     */\n    isShown : function() {\n      return this.__isShown;\n    },\n\n\n    /**\n     * Toggles the visibility of this popup.\n     */\n    toggleVisibility : function() {\n      if(this.__isShown == true) {\n        this.hide();\n      } else {\n        this.show();\n      }\n    },\n\n\n    /**\n     * This method positions the popup widget at the coordinates specified.\n     * @param left {Integer} - the value the will be set to container's left style property\n     * @param top {Integer} - the value the will be set to container's top style property\n     */\n    placeTo : function(left, top)\n    {\n      this._setStyle(\"left\", left + \"px\");\n      this._setStyle(\"top\", top + \"px\");\n    },\n\n\n    /**\n     * Tracks the user tap on root and hides the widget if <code>pointerdown</code> event\n     * occurs outside of the widgets bounds.\n     * @param evt {qx.event.type.Pointer} the pointer event.\n     */\n    _trackUserTap : function(evt) {\n      var clientX = evt.getViewportLeft();\n      var clientY = evt.getViewportTop();\n\n      var popupLocation = qx.bom.element.Location.get(this.getContainerElement());\n\n      var isOutsideWidget =  clientX < popupLocation.left\n        || clientX > popupLocation.left + this.__lastPopupDimension.width\n        || clientY > popupLocation.top + this.__lastPopupDimension.height\n        || clientY < popupLocation.top;\n\n      if(isOutsideWidget) {\n        this.hide();\n      }\n    },\n\n\n    /**\n     * Centers this widget to window's center position.\n     */\n    _positionToCenter : function()\n    {\n      var container = this.getContainerElement();\n      container.style.position = \"absolute\";\n      container.style.marginLeft = -parseInt(container.offsetWidth/2) + \"px\";\n      container.style.marginTop = -parseInt(container.offsetHeight/2) + \"px\";\n      container.style.left = \"50%\";\n      container.style.top = \"50%\";\n    },\n\n\n    /**\n     * Resets the position of this element (left, top, margins...)\n     */\n    _resetPosition : function()\n    {\n      var container = this.getContainerElement();\n      container.style.left = \"0px\";\n      container.style.top = \"0px\";\n      container.style.marginLeft = null;\n      container.style.marginTop = null;\n    },\n\n\n    /**\n     * Registers all needed event listeners\n     */\n    __registerEventListener : function()\n    {\n      qx.core.Init.getApplication().addListener(\"stop\", this.hide, this);\n      qx.core.Init.getApplication().addListener(\"popup\", this.hide, this);\n\n      qx.event.Registration.addListener(window, \"resize\", this._updatePosition, this);\n\n      if(this.__anchor) {\n        this.__anchor.addCssClass(\"anchor-target\");\n        qx.ui.mobile.dialog.Popup.ROOT.addListener(\"pointerdown\",this._trackUserTap,this);\n      }\n    },\n\n\n    /**\n     * Unregisters all needed event listeners\n     */\n    __unregisterEventListener : function()\n    {\n      qx.core.Init.getApplication().removeListener(\"stop\", this.hide, this);\n      qx.core.Init.getApplication().removeListener(\"popup\", this.hide, this);\n\n      qx.event.Registration.removeListener(window, \"resize\", this._updatePosition, this);\n\n      if(this.__anchor) {\n        this.__anchor.removeCssClass(\"anchor-target\");\n        qx.ui.mobile.dialog.Popup.ROOT.removeListener(\"pointerdown\", this._trackUserTap, this);\n      }\n    },\n\n\n    /**\n     * This method creates the container where the popup's widget will be placed\n     * and adds it to the popup.\n     * @param widget {qx.ui.mobile.core.Widget} - what to show in the popup\n     *\n     */\n    _initializeChild : function(widget)\n    {\n      if(this.__childrenContainer == null) {\n        this.__childrenContainer = new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.VBox());\n        this.__childrenContainer.setDefaultCssClass(\"popup-content\");\n        this._add(this.__childrenContainer);\n      }\n\n      if(this._createTitleWidget()) {\n        this.__childrenContainer.remove(this._createTitleWidget());\n        this.__childrenContainer.add(this._createTitleWidget());\n      }\n\n      this.__childrenContainer.add(widget, {\n        flex: 1\n      });\n\n      widget.addListener(\"domupdated\", this._updatePosition, this);\n\n      this.__widget = widget;\n    },\n\n\n    /**\n     * Creates the title atom widget.\n     *\n     * @return {qx.ui.mobile.basic.Atom} The title atom widget.\n     */\n    _createTitleWidget : function()\n    {\n      if(this.__titleWidget) {\n        return this.__titleWidget;\n      }\n      if(this.getTitle() || this.getIcon())\n      {\n        this.__titleWidget = new qx.ui.mobile.basic.Atom(this.getTitle(), this.getIcon());\n        this.__titleWidget.addCssClass('popup-title');\n        return this.__titleWidget;\n      }\n      else\n      {\n        return null;\n      }\n    },\n\n\n    // property apply\n    _applyTitle : function(value, old)\n    {\n      if(value) {\n        if(this.__titleWidget)\n        {\n          this.__titleWidget.setLabel(value);\n        }\n        else\n        {\n          this.__titleWidget = new qx.ui.mobile.basic.Atom(value, this.getIcon());\n          this.__titleWidget.addCssClass('popup-title');\n\n          if(this.__widget) {\n            this.__childrenContainer.addBefore(this._createTitleWidget(), this.__widget);\n          } else {\n            if(this.__childrenContainer) {\n              this.__childrenContainer.add(this._createTitleWidget());\n            }\n          }\n        }\n      }\n    },\n\n\n    // property apply\n    _applyIcon : function(value, old)\n    {\n      if (value) {\n        if (this.__titleWidget) {\n          this.__titleWidget.setIcon(value);\n        } else {\n          this.__titleWidget = new qx.ui.mobile.basic.Atom(this.getTitle(), value);\n          this.__titleWidget.addCssClass('popup-title');\n\n          if (this.__widget) {\n            this.__childrenContainer.addBefore(this._createTitleWidget(), this.__widget);\n          } else {\n            if (this.__childrenContainer) {\n              this.__childrenContainer.add(this._createTitleWidget());\n            }\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Adds the widget that will be shown in this popup. This method can be used in the case when you have removed the widget from the popup\n     * or you haven't passed it in the constructor.\n     * @param widget {qx.ui.mobile.core.Widget} - what to show in the popup\n     */\n    add : function(widget)\n    {\n      this.removeWidget();\n      this._initializeChild(widget);\n    },\n\n\n    /**\n     * A widget to attach this popup to.\n     *\n     * @param widget {qx.ui.mobile.core.Widget} The anchor widget.\n     */\n    setAnchor : function(widget) {\n      this.__anchor = widget;\n      this._updatePosition();\n    },\n\n\n    /**\n     * Returns the title widget.\n     *\n     * @return {qx.ui.mobile.basic.Atom} The title widget.\n     */\n    getTitleWidget : function() {\n      return this.__titleWidget;\n    },\n\n\n    /**\n     * This method removes the widget shown in the popup.\n     * @return {qx.ui.mobile.core.Widget|null} The removed widget or <code>null</code>\n     * if the popup doesn't have an attached widget\n     */\n    removeWidget : function()\n    {\n      if(this.__widget)\n      {\n        this.__widget.removeListener(\"domupdated\", this._updatePosition, this);\n        this.__childrenContainer.remove(this.__widget);\n        return this.__widget;\n      }\n      else\n      {\n        if (qx.core.Environment.get(\"qx.debug\")) {\n          qx.log.Logger.debug(this, \"this popup has no widget attached yet\");\n        }\n        return null;\n      }\n    }\n  },\n\n\n  destruct : function()\n  {\n    this.__unregisterEventListener();\n    this._disposeObjects(\"__childrenContainer\");\n\n    this.__isShown = this.__percentageTop = this._anchor = this.__widget = this.__lastPopupDimension = null;\n  }\n});\n"
  ]
}
{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/qx-contrib-Dialog/node_modules/qxcompiler/node_modules/qooxdoo-sdk/framework/source/class/qx/ui/mobile/core/Root.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "mobile",
    "container",
    "Composite",
    "construct",
    "root",
    "layout",
    "__root",
    "document",
    "body",
    "VBox",
    "addCssClass",
    "core",
    "Environment",
    "get",
    "charAt",
    "event",
    "Registration",
    "addListener",
    "window",
    "_onOrientationChange",
    "bom",
    "Event",
    "preventDefault",
    "innerHeight",
    "documentElement",
    "clientHeight",
    "flexboxSyntax",
    "addEventListener",
    "element",
    "Style",
    "set",
    "getContentElement",
    "bind",
    "properties",
    "defaultCssClass",
    "refine",
    "init",
    "showScrollbarY",
    "check",
    "apply",
    "events",
    "members",
    "_createContainerElement",
    "_applyShowScrollbarY",
    "value",
    "old",
    "_setStyle",
    "getAppScale",
    "pixelRatio",
    "parseFloat",
    "client",
    "Device",
    "getDevicePixelRatio",
    "toFixed",
    "fontScale",
    "getFontScale",
    "isNaN",
    "appScale",
    "fontSize",
    "style",
    "indexOf",
    "parseInt",
    "Math",
    "round",
    "setFontScale",
    "assertNumber",
    "docElement",
    "setTimeout",
    "display",
    "clientWidth",
    "fireEvent",
    "getWidth",
    "Dimension",
    "getHeight",
    "evt",
    "isPortrait",
    "Viewport",
    "removeCssClass",
    "destruct",
    "removeListener",
    "Root"
  ],
  "mappings": "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",
  "file": "Root.js",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Tino Butz (tbtz)\n\n************************************************************************ */\n\n\n/**\n * Root widget for the mobile application.\n */\nqx.Class.define(\"qx.ui.mobile.core.Root\",\n{\n  extend : qx.ui.mobile.container.Composite,\n\n\n  /*\n  *****************************************************************************\n     CONSTRUCTOR\n  *****************************************************************************\n  */\n\n  /**\n   * @param root {Element?null} Optional. The root DOM element of the widget. Default is the body of the document.\n   * @param layout {qx.ui.mobile.layout.Abstract ? qx.ui.mobile.layout.VBox} The layout of the root widget.\n   */\n  construct : function(root, layout)\n  {\n    this.__root = root || document.body;\n    this.base(arguments, layout || new qx.ui.mobile.layout.VBox());\n\n    this.addCssClass(\"mobile\");\n    this.addCssClass(qx.core.Environment.get(\"os.name\"));\n    this.addCssClass(\"v\"+qx.core.Environment.get(\"os.version\").charAt(0));\n\n    qx.event.Registration.addListener(window, \"orientationchange\", this._onOrientationChange, this);\n\n    // [BUG #7785] Document element's clientHeight is calculated wrong on iPad iOS7\n    if (qx.core.Environment.get(\"os.name\") == \"ios\") {\n      this.addListener(\"touchmove\", qx.bom.Event.preventDefault, this);\n\n      if (window.innerHeight != document.documentElement.clientHeight) {\n        this.addCssClass(\"ios-viewport-fix\");\n      }\n    }\n\n    var flexboxSyntax = qx.core.Environment.get(\"css.flexboxSyntax\");\n    if (flexboxSyntax === \"flex\" || flexboxSyntax === \"flexbox\") {\n      this.addCssClass(\"qx-flex-ready\");\n    }\n\n    // fix the root height when the browser tab bar animates out (closed all other tabs)\n    // (landscape + iOS8 + iPhone 6plus)\n    window.addEventListener(\"resize\", function() {\n      qx.bom.element.Style.set(this.getContentElement(), \"height\", window.innerHeight + \"px\");\n    }.bind(this));\n\n    this._onOrientationChange();\n  },\n\n\n  /*\n  *****************************************************************************\n     PROPERTIES\n  *****************************************************************************\n  */\n\n  properties :\n  {\n    // overridden\n    defaultCssClass :\n    {\n      refine : true,\n      init : \"root\"\n    },\n\n\n    /**\n     * Whether the native scrollbar should be shown or not.\n     */\n    showScrollbarY :\n    {\n      check : \"Boolean\",\n      init : true,\n      apply : \"_applyShowScrollbarY\"\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     EVENTS\n  *****************************************************************************\n  */\n\n  events :\n  {\n    /**\n     * Event is fired when the app scale factor of the application has (or\n     * might have) changed.\n     */\n    \"changeAppScale\" : \"qx.event.type.Event\"\n  },\n\n\n  /*\n  *****************************************************************************\n     MEMBERS\n  *****************************************************************************\n  */\n\n  members :\n  {\n    __root : null,\n\n    // overridden\n    _createContainerElement : function() {\n      return this.__root;\n    },\n\n\n    // property apply\n    _applyShowScrollbarY : function(value, old) {\n      this._setStyle(\"overflow-y\", value ? \"auto\" : \"hidden\");\n    },\n\n\n    /**\n     * Returns the application's total scale factor. It takes into account both\n     * the application's font scale (determined by {@link #getFontScale}) and\n     * the device pixel ratio. The latter could be modified at runtime by the\n     * browsers font scaling/zooming feature.\n     *\n     * @return {Number|null} the app scale factor. If a valid app scale could\n     * be determined, it is rounded to a two decimal number. If it could not be\n     * determined, <code>null</code> is returned.\n     */\n    getAppScale: function()\n    {\n      var pixelRatio = parseFloat(qx.bom.client.Device.getDevicePixelRatio().toFixed(2));\n      var fontScale = this.getFontScale();\n\n      if (!isNaN(pixelRatio*fontScale)) {\n        return parseFloat((pixelRatio*fontScale).toFixed(2));\n      } else {\n        return null;\n      }\n    },\n\n\n    /**\n     * Returns the application's font scale factor.\n     *\n     * @return {Number|null} the font scale factor. If a valid font scale could\n     * be determined, it is rounded to a three decimal number. For displaying\n     * the scale factor, you might want to round to two decimals\n     * (<code>.toFixed(2)</code>). If it could not be determined,\n     * <code>null</code> is returned.\n     */\n    getFontScale: function()\n    {\n      var fontScale = null;\n      var appScale = 1;\n\n      // determine font-size style in percent if available\n      var fontSize = document.documentElement.style.fontSize;\n      if (fontSize.indexOf(\"%\") !== -1) {\n        appScale = (parseInt(fontSize, 10) / 100);\n      }\n\n      // start from font-size computed style in pixels if available;\n      fontSize = qx.bom.element.Style.get(document.documentElement, \"fontSize\");\n      if (fontSize.indexOf(\"px\") !== -1)\n      {\n        fontSize = parseFloat(fontSize);\n\n        if (fontSize>15 && fontSize<17) {\n          // iron out minor deviations from the base 16px size\n          fontSize = 16;\n        }\n\n        if (appScale !== 1) {\n          // if font-size style is set in percent\n          fontSize = Math.round(fontSize/appScale);\n        }\n\n        // relative to the 16px base font\n        fontScale = (fontSize/16);\n\n        // apply percentage-based font-size\n        fontScale *= appScale;\n\n        // round to a tree-decimal float\n        fontScale = parseFloat(fontScale.toFixed(3));\n      }\n\n      return fontScale;\n    },\n\n\n    /**\n    * Sets the application's font scale factor, i.e. relative to a default 100%\n    * font size.\n    *\n    * @param value {Number} the font scale factor.\n    */\n    setFontScale : function(value) {\n      if (qx.core.Environment.get(\"qx.debug\")) {\n        this.assertNumber(value, \"The scale factor is asserted to be of type Number\");\n      }\n\n      var docElement = document.documentElement;\n      docElement.style.fontSize = value * 100 + \"%\";\n\n      // Force relayout - important for new Android devices and Firefox.\n      setTimeout(function() {\n        docElement.style.display = \"none\";\n        docElement.clientWidth = docElement.clientWidth;\n        docElement.style.display = \"\";\n      }, 0);\n\n      this.fireEvent(\"changeAppScale\");\n    },\n\n\n    /**\n    * Returns the rendered width.\n    * @return {Integer} the width of the container element.\n    */\n    getWidth : function() {\n      return qx.bom.element.Dimension.getWidth(this.__root);\n    },\n\n\n    /**\n    * Returns the rendered height.\n    * @return {Integer} the height of the container element.\n    */\n    getHeight : function() {\n      return qx.bom.element.Dimension.getHeight(this.__root);\n    },\n\n\n    /**\n     * Event handler. Called when the orientation of the device is changed.\n     *\n     * @param evt {qx.event.type.Orientation} The handled orientation change event\n     */\n    _onOrientationChange : function(evt) {\n      var isPortrait = null;\n\n      if (evt) {\n        isPortrait = evt.isPortrait();\n      } else {\n        isPortrait = qx.bom.Viewport.isPortrait();\n      }\n\n      if (isPortrait) {\n        this.addCssClass(\"portrait\");\n        this.removeCssClass(\"landscape\");\n      } else {\n        this.addCssClass(\"landscape\");\n        this.removeCssClass(\"portrait\");\n      }\n\n      // fix the root height on iOS 8\n      qx.bom.element.Style.set(this.getContentElement(), \"height\", window.innerHeight + \"px\");\n\n      // fix the root height after the location bar animated in\n      // (landscape + iOS8 + iPhone 6plus + more than one tab)\n      window.setTimeout(function() {\n        qx.bom.element.Style.set(this.getContentElement(), \"height\", window.innerHeight + \"px\");\n      }.bind(this), 1500);\n    }\n  },\n\n\n  /*\n  *****************************************************************************\n     DESTRUCTOR\n  *****************************************************************************\n  */\n\n  destruct : function() {\n    this.__root = null;\n    this.removeListener(\"touchmove\", qx.bom.Event.preventDefault, this);\n    qx.event.Registration.removeListener(window, \"orientationchange\", this._onOrientationChange, this);\n  }\n});\n"
  ]
}
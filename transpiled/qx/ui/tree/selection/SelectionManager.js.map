{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/qx-contrib-Dialog/node_modules/qxcompiler/node_modules/qooxdoo-sdk/framework/source/class/qx/ui/tree/selection/SelectionManager.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "core",
    "selection",
    "ScrollArea",
    "members",
    "_getSelectableLocationY",
    "item",
    "computed",
    "getBounds",
    "top",
    "_getWidget",
    "getItemTop",
    "bottom",
    "height",
    "_isSelectable",
    "_isItemSelectable",
    "tree",
    "AbstractTreeItem",
    "_getSelectableFromPointerEvent",
    "event",
    "getTreeItem",
    "getTarget",
    "getSelectables",
    "all",
    "oldUserInteraction",
    "_userInteraction",
    "widget",
    "result",
    "getRoot",
    "items",
    "getItems",
    "getHideRoot",
    "i",
    "length",
    "push",
    "_getSelectableRange",
    "item1",
    "item2",
    "selectables",
    "item1Index",
    "indexOf",
    "item2Index",
    "slice",
    "_getFirstSelectable",
    "_getLastSelectable",
    "_getRelatedSelectable",
    "relation",
    "related",
    "getPreviousNodeOf",
    "getNextNodeOf",
    "SelectionManager"
  ],
  "mappings": "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",
  "file": "SelectionManager.js",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Fabian Jakobs (fjakobs)\n\n************************************************************************ */\n\n/**\n * Responsible for the selection management of the {@link qx.ui.tree.Tree}.\n *\n * @internal\n */\nqx.Class.define(\"qx.ui.tree.selection.SelectionManager\",\n{\n  extend : qx.ui.core.selection.ScrollArea,\n\n  members :\n  {\n    // overridden\n    _getSelectableLocationY : function(item)\n    {\n      var computed = item.getBounds();\n      if (computed)\n      {\n        var top = this._getWidget().getItemTop(item);\n        return {\n          top: top,\n          bottom: top+computed.height\n        };\n      }\n    },\n\n\n    // overridden\n    _isSelectable : function(item) {\n      return this._isItemSelectable(item)\n      && item instanceof qx.ui.tree.core.AbstractTreeItem;\n    },\n\n\n    // overridden\n    _getSelectableFromPointerEvent : function(event)\n    {\n      return this._getWidget().getTreeItem(event.getTarget());\n    },\n\n\n    // overridden\n    getSelectables : function(all)\n    {\n      // if only the user selectables should be returned\n      var oldUserInteraction = false;\n      if (!all) {\n        oldUserInteraction = this._userInteraction;\n        this._userInteraction = true;\n      }\n\n      var widget = this._getWidget();\n      var result = [];\n\n      if (widget.getRoot() != null)\n      {\n        var items = widget.getRoot().getItems(true, !!all, widget.getHideRoot());\n\n        for (var i = 0; i < items.length; i++)\n        {\n          if (this._isSelectable(items[i])) {\n            result.push(items[i]);\n          }\n        }\n      }\n\n      // reset to the former user interaction state\n      this._userInteraction = oldUserInteraction;\n\n      return result;\n    },\n\n\n    // overridden\n    _getSelectableRange : function(item1, item2)\n    {\n      // Fast path for identical items\n      if (item1 === item2) {\n        return [item1];\n      }\n\n      var selectables = this.getSelectables();\n\n      var item1Index = selectables.indexOf(item1);\n      var item2Index = selectables.indexOf(item2);\n\n      if (item1Index < 0 || item2Index < 0) {\n        return [];\n      }\n\n      if (item1Index < item2Index) {\n        return selectables.slice(item1Index, item2Index+1);\n      } else {\n        return selectables.slice(item2Index, item1Index+1);\n      }\n    },\n\n\n    // overridden\n    _getFirstSelectable : function() {\n      return this.getSelectables()[0] || null;\n    },\n\n\n    // overridden\n    _getLastSelectable : function()\n    {\n      var selectables = this.getSelectables();\n      if (selectables.length > 0) {\n        return selectables[selectables.length-1];\n      } else {\n        return null;\n      }\n    },\n\n    // overridden\n    _getRelatedSelectable : function(item, relation)\n    {\n      var widget = this._getWidget();\n      var related = null;\n\n      switch (relation)\n      {\n        case \"above\":\n          related = widget.getPreviousNodeOf(item, false);\n          break;\n\n        case \"under\":\n          related = widget.getNextNodeOf(item, false);\n          break;\n\n        case \"left\":\n        case \"right\":\n          break;\n      }\n\n      if (!related) {\n        return null;\n      }\n\n      if (this._isSelectable(related)) {\n        return related;\n      } else {\n        return this._getRelatedSelectable(related, relation);\n      }\n    }\n  }\n});"
  ]
}
{
  "version": 3,
  "sources": [
    "/home/travis/build/cboulanger/qx-contrib-Dialog/node_modules/qxcompiler/node_modules/qooxdoo-sdk/framework/source/class/qx/ui/tree/VirtualTree.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "ui",
    "virtual",
    "core",
    "Scroller",
    "implement",
    "tree",
    "IVirtualTree",
    "data",
    "controller",
    "ISelection",
    "include",
    "selection",
    "MModel",
    "MContentPadding",
    "construct",
    "rootModel",
    "labelPath",
    "childProperty",
    "openProperty",
    "_init",
    "setLabelPath",
    "setChildProperty",
    "initModel",
    "initItemHeight",
    "initOpenMode",
    "addListener",
    "_onKeyPress",
    "openViaModelChanges",
    "events",
    "open",
    "close",
    "properties",
    "appearance",
    "refine",
    "init",
    "focusable",
    "width",
    "height",
    "itemHeight",
    "check",
    "apply",
    "themeable",
    "openMode",
    "event",
    "hideRoot",
    "showTopLevelOpenCloseIcons",
    "showLeafs",
    "nullable",
    "iconPath",
    "labelOptions",
    "iconOptions",
    "model",
    "deferredInit",
    "delegate",
    "members",
    "_provider",
    "_layer",
    "__lookupTable",
    "__openNodes",
    "__nestingLevel",
    "__deferredCall",
    "_itemWidth",
    "__parentChain",
    "__openProperty",
    "syncWidget",
    "jobs",
    "firstRow",
    "getFirstRow",
    "rowSize",
    "getRowSizes",
    "length",
    "row",
    "widget",
    "getRenderedCellWidget",
    "Math",
    "max",
    "getSizeHint",
    "paneWidth",
    "getPane",
    "getInnerSize",
    "getColumnConfig",
    "setItemSize",
    "openNode",
    "node",
    "__openNode",
    "buildLookupTable",
    "openNodeWithoutScrolling",
    "autoscroll",
    "getAutoScrollIntoView",
    "setAutoScrollIntoView",
    "refresh",
    "openNodeAndParents",
    "__openNodeAndAllParents",
    "getModel",
    "closeNode",
    "includes",
    "lang",
    "Array",
    "remove",
    "fireDataEvent",
    "closeNodeWithoutScrolling",
    "isNodeOpen",
    "_openCloseController",
    "dispose",
    "OpenCloseController",
    "getOpenProperty",
    "_initLayer",
    "provider",
    "WidgetProvider",
    "createLayer",
    "_onUpdated",
    "addLayer",
    "addListenerOnce",
    "e",
    "getData",
    "getLookupTable",
    "isShowTopLevelOpenCloseIcons",
    "_reverseLookup",
    "index",
    "_getDataFromRow",
    "getItem",
    "_getSelectables",
    "getOpenNodes",
    "isNode",
    "item",
    "Util",
    "getChildProperty",
    "getLevel",
    "hasChildren",
    "isShowLeafs",
    "_getContentPaddingTarget",
    "_applyRowHeight",
    "value",
    "old",
    "getRowConfig",
    "setDefaultItemSize",
    "_applyOpenMode",
    "pane",
    "_onOpen",
    "removeListener",
    "_applyHideRoot",
    "_applyShowTopLevelOpenCloseIcons",
    "removeAll",
    "_applyShowLeafs",
    "_applyChildProperty",
    "_applyLabelPath",
    "_applyIconPath",
    "setIconPath",
    "_applyLabelOptions",
    "setLabelOptions",
    "_applyIconOptions",
    "setIconOptions",
    "_applyModel",
    "hasMixin",
    "constructor",
    "marshal",
    "MEventBubbling",
    "warn",
    "_onChangeBubble",
    "__applyModelChanges",
    "_applyDelegate",
    "setDelegate",
    "propertyName",
    "name",
    "lastIndexOf",
    "substr",
    "startsWith",
    "isSubClassOf",
    "propertyChain",
    "SingleValueBinding",
    "resolvePropertyChain",
    "indexOf",
    "util",
    "DeferredCall",
    "queue",
    "Widget",
    "add",
    "schedule",
    "getRow",
    "getSelection",
    "getLength",
    "getKeyIdentifier",
    "parent",
    "getParent",
    "splice",
    "children",
    "get",
    "_beforeApplySelection",
    "newSelection",
    "getSelectionMode",
    "visibleParent",
    "__getVisibleParent",
    "push",
    "_afterApplySelection",
    "__buildParentChain",
    "_applyDefaultSelection",
    "getLabelPath",
    "Error",
    "lookupTable",
    "nestedLevel",
    "root",
    "isHideRoot",
    "visibleChildren",
    "__getVisibleChildrenFrom",
    "concat",
    "equals",
    "toArray",
    "removeBindings",
    "append",
    "__updateRowCount",
    "_updateSelection",
    "visible",
    "copy",
    "getDelegate",
    "filter",
    "Delegate",
    "getMethod",
    "sorter",
    "sort",
    "i",
    "child",
    "startNode",
    "targetNode",
    "result",
    "setItemCount",
    "fullUpdate",
    "level",
    "levelBefore",
    "unshift",
    "pop",
    "contains",
    "destruct",
    "hasListener",
    "ObjectRegistry",
    "inShutDown",
    "cancel",
    "destroy",
    "VirtualTree"
  ],
  "mappings": "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",
  "file": "VirtualTree.js",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/*\n * Virtual tree implementation.\n *\n * The virtual tree can be used to render node and leafs. Nodes and leafs are\n * both items for a tree. The difference between a node and a leaf is that a\n * node has child items, but a leaf not.\n *\n * With the {@link qx.ui.tree.core.IVirtualTreeDelegate} interface it is possible\n * to configure the tree's behavior (item renderer configuration, etc.).\n *\n * Here's an example of how to use the widget, including using a model\n * property to open/close branches. See the two timers at the end. The first\n * one opens all branches after two seconds; the second cleans up the tree\n * after five seconds.\n *\n * <pre class=\"javascript\">\n *   var nodes = \n *   [\n *     {\n *       name : \"Root\",\n *       open : false,\n *       children :\n *       [\n *         {\n *           name : \"Branch 1\",\n *           open : false,\n *           children :\n *           [\n *             {\n *               name : \"Leaf 1.1\"\n *             },\n *             {\n *               name : \"Leaf 1.2\"\n *             },\n *             {\n *               name : \"Branch 1.3\",\n *               open : false,\n *               children :\n *               [\n *                 {\n *                   name : \"Branch 1.3.1\",\n *                   open : false,\n *                   children :\n *                   [\n *                     {\n *                       name : \"Leaf 1.3.1.1\"\n *                     }\n *                   ]\n *                 }\n *               ]\n *             }\n *           ]\n *         }\n *       ]\n *     }\n *   ];\n *\n *   // convert the raw nodes to qooxdoo objects\n *   nodes = qx.data.marshal.Json.createModel(nodes, true);\n *\n *   // create the tree and synchronize the model property 'open'\n *   // to nodes being open\n *   var tree =\n *     new qx.ui.tree.VirtualTree(\n *       nodes.getItem(0), \"name\", \"children\", \"open\").set({\n *         width : 200,\n *         height : 400\n *       });\n *\n *   //log selection changes\n *   tree.getSelection().addListener(\"change\", function(e) {\n *     this.debug(\"Selection: \" + tree.getSelection().getItem(0).getName());\n *   }, this);\n *\n *   tree.set(\n *     {\n *       width : 200,\n *       height : 400,\n *       showTopLevelOpenCloseIcons : true\n *     });\n *\n *   var doc = this.getRoot();\n *   doc.add(tree,\n *   {\n *     left : 100,\n *     top  : 50\n *   });\n *\n *   // After two seconds, open up all branches by setting their open\n *   // property to true.\n *   qx.event.Timer.once(\n *     function()\n *     {\n *       ;(function allOpen(root)\n *         {\n *           if (root.setOpen)     root.setOpen(true);\n *           if (root.getChildren) root.getChildren().forEach(allOpen);\n *         })(nodes.getItem(0));\n *     },\n *     this,\n *     2000);\n *\n *   // After five seconds, remove and dispose the tree.\n *   qx.event.Timer.once(\n *     function()\n *     {\n *       doc.remove(tree);\n *       tree.dispose();\n *       console.warn(\"All cleaned up.\");\n *     },\n *     this,\n *     5000);\n * </pre>\n */\nqx.Class.define(\"qx.ui.tree.VirtualTree\",\n{\n  extend : qx.ui.virtual.core.Scroller,\n  implement : [qx.ui.tree.core.IVirtualTree, qx.data.controller.ISelection],\n  include : [\n    qx.ui.virtual.selection.MModel,\n    qx.ui.core.MContentPadding\n  ],\n\n  /**\n   * @param rootModel {qx.core.Object?null} The model structure representing\n   *   the root of the tree, for more details have a look at the 'model'\n   *   property.\n   * @param labelPath {String?null} The name of the label property, for more\n   *   details have a look at the 'labelPath' property.\n   * @param childProperty {String?null} The name of the child property, for\n   *   more details have a look at the 'childProperty' property.\n   * @param openProperty {String|null} the name of the model property which\n   *   represents the open state of a branch. If this value is provided, so, \n   *   too, must be rootModel.\n   */\n  construct : function(\n    rootModel, labelPath, childProperty, openProperty)\n  {\n    this.base(arguments, 0, 1, 20, 100);\n\n    this._init();\n\n    if (labelPath != null) {\n      this.setLabelPath(labelPath);\n    }\n\n    if (childProperty != null) {\n      this.setChildProperty(childProperty);\n    }\n\n    if(rootModel != null) {\n      this.initModel(rootModel);\n    }\n\n    this.initItemHeight();\n    this.initOpenMode();\n\n    this.addListener(\"keypress\", this._onKeyPress, this);\n\n    // If an open property and root model are provided, start up the open-close controller.\n    if (openProperty && rootModel) {\n      this.openViaModelChanges(openProperty);\n    }\n  },\n\n  events :\n  {\n    /**\n     * Fired when a node is opened.\n     */\n    open : \"qx.event.type.Data\",\n\n\n    /**\n     * Fired when a node is closed.\n     */\n    close : \"qx.event.type.Data\"\n  },\n\n\n  properties :\n  {\n    // overridden\n    appearance :\n    {\n      refine: true,\n      init: \"virtual-tree\"\n    },\n\n\n    // overridden\n    focusable :\n    {\n      refine: true,\n      init: true\n    },\n\n\n    // overridden\n    width :\n    {\n      refine : true,\n      init : 100\n    },\n\n\n    // overridden\n    height :\n    {\n      refine : true,\n      init : 200\n    },\n\n\n    /** Default item height. */\n    itemHeight :\n    {\n      check : \"Integer\",\n      init : 25,\n      apply : \"_applyRowHeight\",\n      themeable : true\n    },\n\n\n     /**\n     * Control whether tap or double tap should open or close the tapped\n     * item.\n     */\n    openMode :\n    {\n      check: [\"tap\", \"dbltap\", \"none\"],\n      init: \"dbltap\",\n      apply: \"_applyOpenMode\",\n      event: \"changeOpenMode\",\n      themeable: true\n    },\n\n    \n    /**\n     * Hides *only* the root node, not the node's children when the property is\n     * set to <code>true</code>.\n     */\n    hideRoot :\n    {\n      check: \"Boolean\",\n      init: false,\n      apply:\"_applyHideRoot\"\n    },\n\n\n    /**\n     * Whether top level items should have an open/close button. The top level\n     * item item is normally the root item, but when the root is hidden, the\n     * root children are the top level items.\n     */\n    showTopLevelOpenCloseIcons :\n    {\n      check : \"Boolean\",\n      init : false,\n      apply : \"_applyShowTopLevelOpenCloseIcons\"\n    },\n\n\n    /**\n     * Configures the tree to show also the leafs. When the property is set to\n     * <code>false</code> *only* the nodes are shown.\n     */\n    showLeafs :\n    {\n      check: \"Boolean\",\n      init: true,\n      apply: \"_applyShowLeafs\"\n    },\n\n\n    /**\n     * The name of the property, where the children are stored in the model.\n     * Instead of the {@link #labelPath} must the child property a direct\n     * property form the model instance.\n     */\n    childProperty :\n    {\n      check: \"String\",\n      apply: \"_applyChildProperty\",\n      nullable: true\n    },\n\n\n    /**\n     * The name of the property, where the value for the tree folders label\n     * is stored in the model classes.\n     */\n    labelPath :\n    {\n      check: \"String\",\n      apply: \"_applyLabelPath\",\n      nullable: true\n    },\n\n\n    /**\n     * The path to the property which holds the information that should be\n     * shown as an icon.\n     */\n    iconPath :\n    {\n      check: \"String\",\n      apply: \"_applyIconPath\",\n      nullable: true\n    },\n\n\n    /**\n     * A map containing the options for the label binding. The possible keys\n     * can be found in the {@link qx.data.SingleValueBinding} documentation.\n     */\n    labelOptions :\n    {\n      apply: \"_applyLabelOptions\",\n      nullable: true\n    },\n\n\n    /**\n     * A map containing the options for the icon binding. The possible keys\n     * can be found in the {@link qx.data.SingleValueBinding} documentation.\n     */\n    iconOptions :\n    {\n      apply: \"_applyIconOptions\",\n      nullable: true\n    },\n\n\n    /**\n     * The model containing the data (nodes and/or leafs) which should be shown\n     * in the tree.\n     */\n    model :\n    {\n      check : \"qx.core.Object\",\n      apply : \"_applyModel\",\n      event: \"changeModel\",\n      nullable : true,\n      deferredInit : true\n    },\n\n\n    /**\n     * Delegation object, which can have one or more functions defined by the\n     * {@link qx.ui.tree.core.IVirtualTreeDelegate} interface.\n     */\n    delegate :\n    {\n      event: \"changeDelegate\",\n      apply: \"_applyDelegate\",\n      init: null,\n      nullable: true\n    }\n  },\n\n\n  members :\n  {\n    /** @type {qx.ui.tree.provider.WidgetProvider} Provider for widget rendering. */\n    _provider : null,\n\n\n    /** @type {qx.ui.virtual.layer.Abstract} Layer which contains the items. */\n    _layer : null,\n\n\n    /**\n     * @type {qx.data.Array} The internal lookup table data structure to get the model item\n     * from a row.\n     */\n    __lookupTable : null,\n\n\n    /** @type {Array} HashMap which contains all open nodes. */\n    __openNodes : null,\n\n\n    /**\n     * @type {Array} The internal data structure to get the nesting level from a\n     * row.\n     */\n    __nestingLevel : null,\n\n\n    /**\n     * @type {qx.util.DeferredCall} Adds this instance to the widget queue on a\n     * deferred call.\n     */\n    __deferredCall : null,\n\n\n    /** @type {Integer} Holds the max item width from a rendered widget. */\n    _itemWidth : 0,\n\n\n    /** @type {Array} internal parent chain form the last selected node */\n    __parentChain : null,\n\n    /** \n     * @type {String|null} the name of the model property which represents the\n     *   open state of a branch.\n     */\n    __openProperty : null,\n\n    /*\n    ---------------------------------------------------------------------------\n      PUBLIC API\n    ---------------------------------------------------------------------------\n    */\n\n\n    // overridden\n    syncWidget : function(jobs)\n    {\n      var firstRow = this._layer.getFirstRow();\n      var rowSize = this._layer.getRowSizes().length;\n\n      for (var row = firstRow; row < firstRow + rowSize; row++)\n      {\n        var widget = this._layer.getRenderedCellWidget(row, 0);\n        if (widget != null) {\n          this._itemWidth = Math.max(this._itemWidth, widget.getSizeHint().width);\n        }\n      }\n      var paneWidth = this.getPane().getInnerSize().width;\n      this.getPane().getColumnConfig().setItemSize(0, Math.max(this._itemWidth, paneWidth));\n    },\n\n\n    // Interface implementation\n    openNode : function(node)\n    {\n      this.__openNode(node);\n      this.buildLookupTable();\n    },\n\n\n    // Interface implementation\n    openNodeWithoutScrolling : function(node)\n    {\n      var autoscroll = this.getAutoScrollIntoView();\n      // suspend automatically scrolling selection into view\n      this.setAutoScrollIntoView(false);\n\n      this.openNode(node);\n\n      // re set to original value\n      this.setAutoScrollIntoView(autoscroll);\n    },\n\n\n    /**\n     * Trigger a rebuild from the internal data structure.\n     */\n    refresh : function() {\n      this.buildLookupTable();\n    },\n\n\n    /**\n     * Opens the passed node and all his parents. *Note!* The algorithm\n     * implements a depth-first search with a complexity: <code>O(n)</code> and\n     * <code>n</code> are all model items.\n     *\n     * @param node {qx.core.Object} Node to open.\n     */\n    openNodeAndParents : function(node)\n    {\n      this.__openNodeAndAllParents(this.getModel(), node);\n      this.buildLookupTable();\n    },\n\n\n    // Interface implementation\n    closeNode : function(node)\n    {\n      if (this.__openNodes.includes(node))\n      {\n        qx.lang.Array.remove(this.__openNodes, node);\n        this.fireDataEvent(\"close\", node);\n        this.buildLookupTable();\n      }\n    },\n\n\n    // Interface implementation\n    closeNodeWithoutScrolling : function(node)\n    {\n      var autoscroll = this.getAutoScrollIntoView();\n      // suspend automatically scrolling selection into view\n      this.setAutoScrollIntoView(false);\n\n      this.closeNode(node);\n\n      // re set to original value\n      this.setAutoScrollIntoView(autoscroll);\n    },\n\n\n    // Interface implementation\n    isNodeOpen : function(node) {\n      return this.__openNodes.includes(node);\n    },\n\n\n    /**\n     * Open and close branches via changes to a property in the model.\n     * \n     * @param openProperty {String|null} \n     *   The name of the open property, which determines the open state of a\n     *   branch in the tree. If null, turn off opening and closing branches\n     *   via changes to the model.\n     */\n    openViaModelChanges : function(openProperty) {\n      // Save the open property\n      this.__openProperty = openProperty;\n\n      // if no name is provided, just remove any prior open-close controller\n      if (! openProperty) {\n        if (this._openCloseController) {\n          this._openCloseController.dispose();\n          this._openCloseController = null;\n        }\n\n        return;\n      }\n\n      // we have a property name, so create controller\n      this._openCloseController =\n        new qx.ui.tree.core.OpenCloseController(this, this.getModel(), openProperty);\n    },\n\n\n    /**\n     * Getter for the open property\n     */\n    getOpenProperty : function()\n    {\n      return this.__openProperty;\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      INTERNAL API\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Initializes the virtual tree.\n     */\n    _init : function()\n    {\n      this.__lookupTable = new qx.data.Array();\n      this.__openNodes = [];\n      this.__nestingLevel = [];\n      this._initLayer();\n    },\n\n\n    /**\n     * Initializes the virtual tree layer.\n     */\n    _initLayer : function()\n    {\n      this._provider = new qx.ui.tree.provider.WidgetProvider(this);\n      this._layer = this._provider.createLayer();\n      this._layer.addListener(\"updated\", this._onUpdated, this);\n      this.getPane().addLayer(this._layer);\n      this.getPane().addListenerOnce(\"resize\", function(e) {\n        // apply width to pane on first rendering pass\n        // to avoid visible flickering\n        this.getPane().getColumnConfig().setItemSize(0, e.getData().width);\n      }, this);\n    },\n\n\n    // Interface implementation\n    getLookupTable : function() {\n      return this.__lookupTable;\n    },\n    \n    \n    // Interface implementation\n    isShowTopLevelOpenCloseIcons : function() {\n      return true;\n    },\n\n\n    /**\n     * Performs a lookup from model index to row.\n     *\n     * @param index {Number} The index to look at.\n     * @return {Number} The row or <code>-1</code>\n     *  if the index is not a model index.\n     */\n    _reverseLookup : function(index) {\n      return index;\n    },\n\n\n    /**\n     * Returns the model data for the given row.\n     *\n     * @param row {Integer} row to get data for.\n     * @return {var|null} the row's model data.\n     */\n    _getDataFromRow : function(row) {\n      return this.__lookupTable.getItem(row);\n    },\n\n    /**\n     * Returns the selectable model items.\n     *\n     * @return {qx.data.Array} The selectable items.\n     */\n    _getSelectables : function() {\n      return this.__lookupTable;\n    },\n\n\n    /**\n     * Returns all open nodes.\n     *\n     * @internal\n     * @return {Array} All open nodes.\n     */\n    getOpenNodes : function() {\n      return this.__openNodes;\n    },\n\n\n    // Interface implementation\n    isNode : function(item) {\n      return qx.ui.tree.core.Util.isNode(item, this.getChildProperty());\n    },\n\n\n    // Interface implementation\n    getLevel : function(row) {\n      return this.__nestingLevel[row];\n    },\n\n\n    // Interface implementation\n    hasChildren : function(node) {\n      return qx.ui.tree.core.Util.hasChildren(node, this.getChildProperty(), !this.isShowLeafs());\n    },\n\n\n    /**\n     * Returns the element, to which the content padding should be applied.\n     *\n     * @return {qx.ui.core.Widget} The content padding target.\n     */\n    _getContentPaddingTarget : function() {\n      return this.getPane();\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      PROPERTY APPLY METHODS\n    ---------------------------------------------------------------------------\n    */\n\n\n    // property apply\n    _applyRowHeight : function(value, old) {\n      this.getPane().getRowConfig().setDefaultItemSize(value);\n    },\n\n\n    // property apply\n    _applyOpenMode : function(value, old)\n    {\n      var pane = this.getPane();\n\n      //\"tap\", \"dbltap\", \"none\"\n      if (value === \"dbltap\") {\n        pane.addListener(\"cellDbltap\", this._onOpen, this);\n      } else if (value === \"tap\") {\n        pane.addListener(\"cellTap\", this._onOpen, this);\n      }\n\n      if (old === \"dbltap\") {\n        pane.removeListener(\"cellDbltap\", this._onOpen, this);\n      } else if (old === \"tap\") {\n        pane.removeListener(\"cellTap\", this._onOpen, this);\n      }\n    },\n\n\n    // property apply\n    _applyHideRoot : function(value, old) {\n      this.buildLookupTable();\n    },\n\n\n    // property apply\n    _applyShowTopLevelOpenCloseIcons : function(value, old) {\n      // force rebuild of the lookup table\n      // fixes https://github.com/qooxdoo/qooxdoo/issues/9128\n      this.getLookupTable().removeAll();\n      this.buildLookupTable();\n    },\n\n\n    // property apply\n    _applyShowLeafs : function(value, old) {\n      // force rebuild of the lookup table\n      // fixes https://github.com/qooxdoo/qooxdoo/issues/9128\n      this.getLookupTable().removeAll();\n      this.buildLookupTable();\n    },\n\n\n    // property apply\n    _applyChildProperty : function(value, old) {\n      this._provider.setChildProperty(value);\n    },\n\n\n    // property apply\n    _applyLabelPath : function(value, old) {\n      this._provider.setLabelPath(value);\n    },\n\n\n    // property apply\n    _applyIconPath : function(value, old) {\n      this._provider.setIconPath(value);\n    },\n\n\n    // property apply\n    _applyLabelOptions : function(value, old) {\n      this._provider.setLabelOptions(value);\n    },\n\n\n    // property apply\n    _applyIconOptions : function(value, old) {\n      this._provider.setIconOptions(value);\n    },\n\n\n    // property apply\n    _applyModel : function(value, old)\n    {\n      this.__openNodes = [];\n\n      if (value != null)\n      {\n        if (qx.core.Environment.get(\"qx.debug\"))\n        {\n          if (!qx.Class.hasMixin(value.constructor,\n                qx.data.marshal.MEventBubbling))\n          {\n            this.warn(\"The model item doesn't support the Mixin 'qx.data.\" +\n              \"marshal.MEventBubbling'. Therefore the tree can not update \" +\n              \"the view automatically on model changes.\");\n          }\n        }\n        value.addListener(\"changeBubble\", this._onChangeBubble, this);\n        this.__openNode(value);\n      }\n\n      // If the model changes, an existing OpenCloseController is no longer\n      // valid, so dispose it. The user should call openViaModelChanges again.\n      if (this._openCloseController) {\n        this._openCloseController.dispose();\n        this._openCloseController = null;\n      }\n\n      if (old != null) {\n        old.removeListener(\"changeBubble\", this._onChangeBubble, this);\n      }\n\n      this.__applyModelChanges();\n    },\n\n\n    // property apply\n    _applyDelegate : function(value, old)\n    {\n      this._provider.setDelegate(value);\n      this.buildLookupTable();\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      EVENT HANDLERS\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Event handler for the changeBubble event. The handler rebuild the lookup\n     * table when the child structure changed.\n     *\n     * @param event {qx.event.type.Data} The data event.\n     */\n    _onChangeBubble : function(event)\n    {\n      var data = event.getData();\n      var propertyName = data.name;\n      var index = propertyName.lastIndexOf(\".\");\n\n      if (index != -1) {\n        propertyName = propertyName.substr(index + 1, propertyName.length);\n      }\n\n      // only continue when the effected property is the child property\n      if ( propertyName.startsWith(this.getChildProperty()) )\n      {\n        var item = data.item;\n\n        if (qx.Class.isSubClassOf(item.constructor, qx.data.Array))\n        {\n          if (index === -1)\n          {\n            item = this.getModel();\n          }\n          else\n          {\n            var propertyChain = data.name.substr(0, index);\n            item = qx.data.SingleValueBinding.resolvePropertyChain(this.getModel(), propertyChain);\n          }\n        }\n\n        if (this.__lookupTable.indexOf(item) != -1) {\n          this.__applyModelChanges();\n        }\n      }\n    },\n\n\n    /**\n     * Event handler for the update event.\n     *\n     * @param event {qx.event.type.Event} The event.\n     */\n    _onUpdated : function(event)\n    {\n      if (this.__deferredCall == null) {\n        this.__deferredCall = new qx.util.DeferredCall(function() {\n          qx.ui.core.queue.Widget.add(this);\n        }, this);\n      }\n      this.__deferredCall.schedule();\n    },\n\n\n    /**\n     * Event handler to open/close tapped nodes.\n     *\n     * @param event {qx.ui.virtual.core.CellEvent} The cell tap event.\n     */\n    _onOpen : function(event)\n    {\n      var row = event.getRow();\n      var item = this.__lookupTable.getItem(row);\n\n      if (this.isNode(item))\n      {\n        if (this.isNodeOpen(item)) {\n          this.closeNode(item);\n        } else {\n          this.openNode(item);\n        }\n      }\n    },\n\n\n    /**\n     * Event handler for key press events. Open and close the current selected\n     * item on key left and right press. Jump to parent on key left if already\n     * closed.\n     *\n     * @param e {qx.event.type.KeySequence} key event.\n     */\n    _onKeyPress : function(e)\n    {\n      var selection = this.getSelection();\n\n      if (selection.getLength() > 0)\n      {\n        var item = selection.getItem(0);\n        var isNode = this.isNode(item);\n\n        switch(e.getKeyIdentifier())\n        {\n          case \"Left\":\n            if (isNode && this.isNodeOpen(item)) {\n              this.closeNode(item);\n            } else {\n              var parent = this.getParent(item);\n              if (parent != null) {\n                selection.splice(0, 1, parent);\n              }\n            }\n            break;\n\n          case \"Right\":\n            if (isNode && !this.isNodeOpen(item)) {\n              this.openNode(item);\n            }\n            else\n            {\n              if (isNode)\n              {\n                var children = item.get(this.getChildProperty());\n                if (children != null && children.getLength() > 0) {\n                  selection.splice(0, 1, children.getItem(0));\n                }\n              }\n            }\n            break;\n\n          case \"Enter\":\n          case \"Space\":\n            if (!isNode) {\n              return;\n            }\n            if (this.isNodeOpen(item)) {\n              this.closeNode(item);\n            } else {\n              this.openNode(item);\n            }\n            break;\n        }\n      }\n    },\n\n    /*\n    ---------------------------------------------------------------------------\n      SELECTION HOOK METHODS\n    ---------------------------------------------------------------------------\n    */\n\n    /**\n     * Hook method which is called from the {@link qx.ui.virtual.selection.MModel}.\n     * The hook method sets the first visible parent not as new selection when\n     * the current selection is empty and the selection mode is one selection.\n     *\n     * @param newSelection {Array} The newSelection which will be set to the selection manager.\n     */\n    _beforeApplySelection : function(newSelection)\n    {\n      if (newSelection.length === 0 &&\n          this.getSelectionMode() === \"one\")\n      {\n        var visibleParent = this.__getVisibleParent();\n        var row = this.getLookupTable().indexOf(visibleParent);\n\n        if (row >= 0) {\n          newSelection.push(row);\n        }\n      }\n    },\n\n\n    /**\n     * Hook method which is called from the {@link qx.ui.virtual.selection.MModel}.\n     * The hook method builds the parent chain form the current selected item.\n     */\n    _afterApplySelection : function()\n    {\n      var selection = this.getSelection();\n\n      if (selection.getLength() > 0 &&\n          this.getSelectionMode() === \"one\") {\n        this.__buildParentChain(selection.getItem(0));\n      } else {\n        this.__parentChain = [];\n      }\n    },\n\n\n    /*\n    ---------------------------------------------------------------------------\n      HELPER METHODS\n    ---------------------------------------------------------------------------\n    */\n\n\n    /**\n     * Helper method to apply model changes. Normally build the lookup table and\n     * apply the default selection.\n     */\n    __applyModelChanges : function()\n    {\n      this.buildLookupTable();\n      this._applyDefaultSelection();\n    },\n\n\n    /**\n     * Helper method to build the internal data structure.\n     *\n     * @internal\n     */\n    buildLookupTable : function()\n    {\n      if (\n        this.getModel() != null &&\n        (this.getChildProperty() == null || this.getLabelPath() == null)\n      )\n      {\n        throw new Error(\"Could not build tree, because 'childProperty' and/\" +\n          \"or 'labelPath' is 'null'!\");\n      }\n\n      this._itemWidth = 0;\n      var lookupTable = [];\n      this.__nestingLevel = [];\n      var nestedLevel = -1;\n\n      var root = this.getModel();\n      if (root != null)\n      {\n        if (!this.isHideRoot())\n        {\n          nestedLevel++;\n          lookupTable.push(root);\n          this.__nestingLevel.push(nestedLevel);\n        }\n\n        if (this.isNodeOpen(root))\n        {\n          var visibleChildren = this.__getVisibleChildrenFrom(root, nestedLevel);\n          lookupTable = lookupTable.concat(visibleChildren);\n        }\n      }\n\n      if (!qx.lang.Array.equals(this.__lookupTable.toArray(), lookupTable))\n      {\n        this._provider.removeBindings();\n        this.__lookupTable.removeAll();\n        this.__lookupTable.append(lookupTable);\n        this.__updateRowCount();\n        this._updateSelection();\n      }\n    },\n\n\n    /**\n     * Helper method to get all visible children form the passed parent node.\n     * The algorithm implements a depth-first search with a complexity:\n     * <code>O(n)</code> and <code>n</code> are all visible items.\n     *\n     * @param node {qx.core.Object} The start node to start search.\n     * @param nestedLevel {Integer} The nested level from the start node.\n     * @return {Array} All visible children form the parent.\n     */\n    __getVisibleChildrenFrom : function(node, nestedLevel)\n    {\n      var visible = [];\n      nestedLevel++;\n\n      if (!this.isNode(node)) {\n        return visible;\n      }\n\n      var children = node.get(this.getChildProperty());\n      if (children == null) {\n        return visible;\n      }\n\n      // clone children to keep original model unmodified\n      children = children.copy();\n\n      var delegate = this.getDelegate();\n      var filter = qx.util.Delegate.getMethod(delegate, \"filter\");\n      var sorter = qx.util.Delegate.getMethod(delegate, \"sorter\");\n\n      if (sorter != null) {\n        children.sort(sorter);\n      }\n\n      for (var i = 0; i < children.getLength(); i++)\n      {\n        var child = children.getItem(i);\n\n        if (filter && !filter(child)) {\n          continue;\n        }\n\n        if (this.isNode(child))\n        {\n          this.__nestingLevel.push(nestedLevel);\n          visible.push(child);\n\n          if (this.isNodeOpen(child))\n          {\n            var visibleChildren = this.__getVisibleChildrenFrom(child, nestedLevel);\n            visible = visible.concat(visibleChildren);\n          }\n        }\n        else\n        {\n          if (this.isShowLeafs())\n          {\n            this.__nestingLevel.push(nestedLevel);\n            visible.push(child);\n          }\n        }\n      }\n\n      // dispose children clone\n      children.dispose();\n\n      return visible;\n    },\n\n\n    /**\n     * Helper method to set the node to the open nodes data structure when it\n     * is not included.\n     *\n     * @param node {qx.core.Object} Node to set to open nodes.\n     */\n    __openNode : function(node)\n    {\n      if (!this.__openNodes.includes(node)) {\n        this.__openNodes.push(node);\n        this.fireDataEvent(\"open\", node);\n      }\n    },\n\n\n    /**\n     * Helper method to set the target node and all his parents to the open\n     * nodes data structure. The algorithm implements a depth-first search with\n     * a complexity: <code>O(n)</code> and <code>n</code> are all model items.\n     *\n     * @param startNode {qx.core.Object} Start (root) node to search.\n     * @param targetNode {qx.core.Object} Target node to open (and his parents).\n     * @return {Boolean} <code>True</code> when the targetNode and his\n     *  parents could opened, <code>false</code> otherwise.\n     */\n    __openNodeAndAllParents : function(startNode, targetNode)\n    {\n      if (startNode === targetNode)\n      {\n        this.__openNode(targetNode);\n        return true;\n      }\n\n      if (!this.isNode(startNode)) {\n        return false;\n      }\n\n      var children = startNode.get(this.getChildProperty());\n      if (children == null) {\n        return false;\n      }\n\n      for (var i = 0; i < children.getLength(); i++)\n      {\n        var child = children.getItem(i);\n        var result = this.__openNodeAndAllParents(child, targetNode);\n\n        if (result === true)\n        {\n          this.__openNode(child);\n          return true;\n        }\n      }\n\n      return false;\n    },\n\n\n    /**\n     * Helper method to update the row count.\n     */\n    __updateRowCount : function()\n    {\n      this.getPane().getRowConfig().setItemCount(this.__lookupTable.getLength());\n      this.getPane().fullUpdate();\n    },\n\n\n    /**\n     * Helper method to get the parent node. Node! This only works with leaf and\n     * nodes which are in the internal lookup table.\n     *\n     * @param item {qx.core.Object} Node or leaf to get parent.\n     * @return {qx.core.Object|null} The parent note or <code>null</code> when\n     *   no parent found.\n     *\n     * @internal\n     */\n    getParent : function(item)\n    {\n      var index = this.__lookupTable.indexOf(item);\n      if (index < 0) {\n        return null;\n      }\n\n      var level = this.__nestingLevel[index];\n      while(index > 0)\n      {\n        index--;\n        var levelBefore = this.__nestingLevel[index];\n        if (levelBefore < level) {\n          return this.__lookupTable.getItem(index);\n        }\n      }\n\n      return null;\n    },\n\n\n    /**\n     * Builds the parent chain form the passed item.\n     *\n     * @param item {var} Item to build parent chain.\n     */\n    __buildParentChain : function(item)\n    {\n      this.__parentChain = [];\n      var parent = this.getParent(item);\n      while(parent != null)\n      {\n        this.__parentChain.unshift(parent);\n        parent = this.getParent(parent);\n      }\n    },\n\n\n    /**\n     * Return the first visible parent node from the last selected node.\n     *\n     * @return {var} The first visible node.\n     */\n    __getVisibleParent : function()\n    {\n      if (this.__parentChain == null) {\n        return this.getModel();\n      }\n\n      var lookupTable = this.getLookupTable();\n      var parent = this.__parentChain.pop();\n\n      while(parent != null)\n      {\n        if (lookupTable.contains(parent)) {\n          return parent;\n        }\n        parent = this.__parentChain.pop();\n      }\n      return this.getModel();\n    }\n  },\n\n\n  destruct : function()\n  {\n    if (this._openCloseController) {\n      this._openCloseController.dispose();\n    }\n\n    var pane = this.getPane();\n    if (pane != null)\n    {\n      if (pane.hasListener(\"cellDbltap\")) {\n        pane.removeListener(\"cellDbltap\", this._onOpen, this);\n      }\n      if (pane.hasListener(\"cellTap\")) {\n        pane.removeListener(\"cellTap\", this._onOpen, this);\n      }\n    }\n\n    if (!qx.core.ObjectRegistry.inShutDown && this.__deferredCall != null)\n    {\n      this.__deferredCall.cancel();\n      this.__deferredCall.dispose();\n    }\n\n    var model = this.getModel();\n    if (model != null) {\n      model.removeListener(\"changeBubble\", this._onChangeBubble, this);\n    }\n\n    this._layer.removeListener(\"updated\", this._onUpdated, this);\n    this._layer.destroy();\n    this._provider.dispose();\n    this.__lookupTable.dispose();\n\n    this._layer = this._provider = this.__lookupTable = this.__openNodes =\n      this.__deferredCall = null;\n  }\n});\n"
  ]
}